<!DOCTYPE html>
<html lang="ko">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>ÏÑ∏Í∏à Í≥ÑÏÇ∞Í∏∞ - ÏÜåÎìùÏÑ∏/Î∂ÄÍ∞ÄÏÑ∏ ÏûêÎèô Í≥ÑÏÇ∞ | Ïä§ÎßàÌä∏ ÌååÏã±</title>
   <meta name="description" content="ÏÑ∏Í∏à Í≥ÑÏÇ∞Í∏∞Î°ú ÏÜåÎìùÏÑ∏, Î∂ÄÍ∞ÄÏÑ∏, Ï¢ÖÌï©ÏÜåÎìùÏÑ∏Î•º ÏâΩÍ≤å Í≥ÑÏÇ∞ÌïòÏÑ∏Ïöî. ÏÜåÎìùÍ≥º ÏÑ∏Ïú®ÏùÑ ÏûêÏú† ÌòïÏãùÏúºÎ°ú ÏûÖÎ†•ÌïòÎ©¥ ÏûêÎèô Ïù∏ÏãùÌï©ÎãàÎã§.">
 
   <!-- Ïù¥ 3Ï§Ñ Ï∂îÍ∞Ä -->
   <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
   <link rel="stylesheet" href="../../css/common.css">
   <link rel="stylesheet" href="../../css/calculator.css">
 
   <style>
       * {
           margin: 0;
           padding: 0;
           box-sizing: border-box;
       }
       
       body {
           font-family: 'Malgun Gothic', -apple-system, BlinkMacSystemFont, sans-serif;
           background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
           min-height: 100vh;
           padding: 20px;
       }
       
       .container {
           max-width: 1200px;
           margin: 0 auto;
           background: white;
           border-radius: 20px;
           box-shadow: 0 25px 50px rgba(0,0,0,0.15);
           overflow: hidden;
           animation: slideUp 0.6s ease-out;
       }
       
       @keyframes slideUp {
           from { opacity: 0; transform: translateY(30px); }
           to { opacity: 1; transform: translateY(0); }
       }
       
       .header {
           background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
           color: white;
           padding: 40px 30px;
           text-align: center;
           position: relative;
           overflow: hidden;
       }
       
       .header::before {
           content: '';
           position: absolute;
           top: -50%;
           left: -50%;
           width: 200%;
           height: 200%;
           background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
           animation: pulse 4s ease-in-out infinite;
       }
       
       @keyframes pulse {
           0%, 100% { transform: scale(1); }
           50% { transform: scale(1.1); }
       }
       
       .header h1 {
           font-size: 2.5rem;
           margin-bottom: 10px;
           position: relative;
           z-index: 1;
       }
       
       .header p {
           font-size: 1.1rem;
           opacity: 0.9;
           position: relative;
           z-index: 1;
       }
       
       .content {
           padding: 40px 30px;
       }
       
       .calculator-tabs {
           display: flex;
           background: #f8f9fa;
           border-radius: 15px;
           padding: 5px;
           margin-bottom: 30px;
           gap: 5px;
       }
       
       .tab-button {
           flex: 1;
           padding: 15px 20px;
           border: none;
           border-radius: 10px;
           background: transparent;
           cursor: pointer;
           transition: all 0.3s ease;
           font-weight: 600;
           font-size: 14px;
       }
       
       .tab-button.active {
           background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
           color: white;
       }
       
       .tab-content {
           display: none;
       }
       
       .tab-content.active {
           display: block;
       }
       
       .input-section {
           background: #f8f9fa;
           border-radius: 15px;
           padding: 30px;
           margin-bottom: 30px;
           border: 2px solid #e9ecef;
       }
       
       .input-grid {
           display: grid;
           grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
           gap: 25px;
       }
       
       .input-group {
           background: white;
           border-radius: 12px;
           padding: 20px;
           box-shadow: 0 2px 10px rgba(0,0,0,0.05);
       }
       
       .input-label {
           font-size: 1.1rem;
           font-weight: 600;
           color: #333;
           margin-bottom: 10px;
           display: flex;
           align-items: center;
           gap: 8px;
       }
       
       input[type="text"], input[type="number"], select {
           width: 100%;
           padding: 15px;
           border: 2px solid #e1e5e9;
           border-radius: 8px;
           font-size: 16px;
           transition: all 0.3s ease;
           background: #fafbfc;
       }
       
       input:focus, select:focus {
           outline: none;
           border-color: #667eea;
           background: white;
           box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
       }
       
       .parsed-result {
           margin-top: 10px;
           padding: 10px;
           background: #e3f2fd;
           border-radius: 6px;
           font-size: 14px;
           color: #1976d2;
       }
       
       .controls {
           display: flex;
           gap: 15px;
           flex-wrap: wrap;
           justify-content: center;
           margin: 25px 0;
       }
       
       .btn {
           background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
           color: white;
           border: none;
           padding: 15px 30px;
           border-radius: 25px;
           font-size: 16px;
           font-weight: 600;
           cursor: pointer;
           transition: all 0.3s ease;
       }
       
       .btn:hover {
           transform: translateY(-2px);
           box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
       }
       
       .btn-secondary {
           background: linear-gradient(135deg, #74b9ff 0%, #0984e3 100%);
       }
       
       .btn-danger {
           background: linear-gradient(135deg, #fd79a8 0%, #e84393 100%);
       }
       
       .result-section {
           background: linear-gradient(135deg, #fff3e0 0%, #ffe0b2 100%);
           border-radius: 15px;
           padding: 30px;
           margin-top: 30px;
           border: 2px solid #ff9800;
           display: none;
           animation: fadeIn 0.5s ease-in;
       }
       
       @keyframes fadeIn {
           from { opacity: 0; transform: translateY(20px); }
           to { opacity: 1; transform: translateY(0); }
       }
       
       .result-title {
           font-size: 1.5rem;
           font-weight: bold;
           color: #e65100;
           margin-bottom: 25px;
           text-align: center;
       }
       
       .tax-display {
           background: white;
           border-radius: 15px;
           padding: 30px;
           text-align: center;
           margin-bottom: 25px;
           box-shadow: 0 5px 20px rgba(0,0,0,0.1);
       }
       
       .tax-value {
           font-size: 3rem;
           font-weight: bold;
           color: #ff9800;
           margin-bottom: 10px;
       }
       
       .tax-description {
           font-size: 1.2rem;
           color: #666;
       }
       
       .result-grid {
           display: grid;
           grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
           gap: 20px;
       }
       
       .result-item {
           background: white;
           padding: 20px;
           border-radius: 12px;
           text-align: center;
           box-shadow: 0 3px 15px rgba(0,0,0,0.1);
       }
       
       .result-label {
           font-size: 0.9rem;
           color: #666;
           margin-bottom: 8px;
       }
       
       .result-value {
           font-size: 1.3rem;
           font-weight: bold;
           color: #ff9800;
       }
       
       .tax-brackets {
           background: white;
           border-radius: 12px;
           padding: 20px;
           margin-top: 20px;
           box-shadow: 0 3px 15px rgba(0,0,0,0.1);
       }
       
       .brackets-title {
           font-size: 1.1rem;
           font-weight: bold;
           color: #333;
           margin-bottom: 15px;
           text-align: center;
       }
       
       .bracket-table {
           width: 100%;
           border-collapse: collapse;
           font-size: 14px;
       }
       
       .bracket-table th, .bracket-table td {
           padding: 10px;
           text-align: center;
           border-bottom: 1px solid #e9ecef;
       }
       
       .bracket-table th {
           background: #f8f9fa;
           font-weight: bold;
       }
       
       @media (max-width: 768px) {
           .container {
               margin: 10px;
           }
           
           .header h1 {
               font-size: 2rem;
           }
           
           .calculator-tabs {
               flex-direction: column;
           }
           
           .input-grid {
               grid-template-columns: 1fr;
           }
           
           .controls {
               flex-direction: column;
           }
           
           .btn {
               width: 100%;
           }
           
           .tax-value {
               font-size: 2.5rem;
           }
       }
   </style>
</head>
<body>
 
   <!-- Ïù¥ Ìó§Îçî Î∂ÄÎ∂Ñ Ï∂îÍ∞Ä -->
   <header class="header">
       <div class="header-content">
           <a href="../../index.html" class="logo">
               <div class="logo-icon">üßÆ</div>
               CalcHub
           </a>
           <nav class="nav-links">
               <a href="../../index.html" class="nav-link">Ìôà</a>
               <a href="../business/" class="nav-link">üíº ÎπÑÏ¶àÎãàÏä§</a>
           </nav>
       </div>
   </header>
 
   <div class="container">
       <div class="header">
           <h1>üìã ÏÑ∏Í∏à Í≥ÑÏÇ∞Í∏∞</h1>
           <p>ÏÜåÎìùÏÑ∏, Î∂ÄÍ∞ÄÏÑ∏, Ï¢ÖÌï©ÏÜåÎìùÏÑ∏Î•º ÏâΩÍ≤å Í≥ÑÏÇ∞ÌïòÏÑ∏Ïöî</p>
       </div>
       
       <div class="content">
           <div class="calculator-tabs">
               <button class="tab-button active" onclick="switchTab('income')">ÏÜåÎìùÏÑ∏</button>
               <button class="tab-button" onclick="switchTab('vat')">Î∂ÄÍ∞ÄÏÑ∏</button>
               <button class="tab-button" onclick="switchTab('comprehensive')">Ï¢ÖÌï©ÏÜåÎìùÏÑ∏</button>
           </div>
           
           <!-- ÏÜåÎìùÏÑ∏ Í≥ÑÏÇ∞ -->
           <div id="income" class="tab-content active">
               <div class="input-section">
                   <div class="input-grid">
                       <div class="input-group">
                           <div class="input-label">
                               <span>üí∞</span>
                               Ïó∞ÏÜåÎìù (ÏÑ∏Ï†Ñ)
                           </div>
                           <input type="text" id="annual-income" placeholder="Ïòà: 5000ÎßåÏõê, 50000000Ïõê..." oninput="smartParseIncome()">
                           <div class="parsed-result" id="annualIncomeParsed">ÏûÖÎ†• ÎåÄÍ∏∞ Ï§ë...</div>
                       </div>
                       
                       <div class="input-group">
                           <div class="input-label">
                               <span>üë•</span>
                               Î∂ÄÏñëÍ∞ÄÏ°± Ïàò
                           </div>
                           <select id="dependents" onchange="smartParseIncome()">
                               <option value="0">ÏóÜÏùå</option>
                               <option value="1">1Î™Ö</option>
                               <option value="2">2Î™Ö</option>
                               <option value="3">3Î™Ö</option>
                               <option value="4">4Î™Ö</option>
                               <option value="5">5Î™Ö Ïù¥ÏÉÅ</option>
                           </select>
                       </div>
                   </div>
                   
                   <div class="tax-brackets">
                       <div class="brackets-title">üìä 2024ÎÖÑ ÏÜåÎìùÏÑ∏ ÏÑ∏Ïú®Ìëú</div>
                       <table class="bracket-table">
                           <tr>
                               <th>Í≥ºÏÑ∏ÌëúÏ§Ä</th>
                               <th>ÏÑ∏Ïú®</th>
                               <th>ÎàÑÏßÑÍ≥µÏ†ú</th>
                           </tr>
                           <tr>
                               <td>1,400ÎßåÏõê Ïù¥Ìïò</td>
                               <td>6%</td>
                               <td>-</td>
                           </tr>
                           <tr>
                               <td>1,400ÎßåÏõê ~ 5,000ÎßåÏõê</td>
                               <td>15%</td>
                               <td>126ÎßåÏõê</td>
                           </tr>
                           <tr>
                               <td>5,000ÎßåÏõê ~ 8,800ÎßåÏõê</td>
                               <td>24%</td>
                               <td>576ÎßåÏõê</td>
                           </tr>
                           <tr>
                               <td>8,800ÎßåÏõê ~ 1.5ÏñµÏõê</td>
                               <td>35%</td>
                               <td>1,544ÎßåÏõê</td>
                           </tr>
                           <tr>
                               <td>1.5ÏñµÏõê ~ 3ÏñµÏõê</td>
                               <td>38%</td>
                               <td>1,994ÎßåÏõê</td>
                           </tr>
                           <tr>
                               <td>3ÏñµÏõê ~ 5ÏñµÏõê</td>
                               <td>40%</td>
                               <td>2,594ÎßåÏõê</td>
                           </tr>
                           <tr>
                               <td>5ÏñµÏõê ~ 10ÏñµÏõê</td>
                               <td>42%</td>
                               <td>3,594ÎßåÏõê</td>
                           </tr>
                           <tr>
                               <td>10ÏñµÏõê Ï¥àÍ≥º</td>
                               <td>45%</td>
                               <td>6,594ÎßåÏõê</td>
                           </tr>
                       </table>
                   </div>
               </div>
               
               <div class="controls">
                   <button class="btn" onclick="calculateIncomeTax()">üìã ÏÜåÎìùÏÑ∏ Í≥ÑÏÇ∞</button>
                   <button class="btn btn-secondary" onclick="showIncomeExample()">üìù ÏòàÏãú</button>
                   <button class="btn btn-danger" onclick="clearIncome()">üóëÔ∏è Ï¥àÍ∏∞Ìôî</button>
               </div>
               
               <div class="result-section" id="incomeResult"></div>
           </div>
           
           <!-- Î∂ÄÍ∞ÄÏÑ∏ Í≥ÑÏÇ∞ -->
           <div id="vat" class="tab-content">
               <div class="input-section">
                   <div class="input-grid">
                       <div class="input-group">
                           <div class="input-label">
                               <span>üí∞</span>
                               Í≥µÍ∏âÍ∞ÄÏï° (Î∂ÄÍ∞ÄÏÑ∏ Ï†úÏô∏)
                           </div>
                           <input type="text" id="supply-price" placeholder="Ïòà: 1000ÎßåÏõê, 10000000Ïõê..." oninput="smartParseVAT()">
                           <div class="parsed-result" id="supplyPriceParsed">ÏûÖÎ†• ÎåÄÍ∏∞ Ï§ë...</div>
                       </div>
                       
                       <div class="input-group">
                           <div class="input-label">
                               <span>üìä</span>
                               Î∂ÄÍ∞ÄÏÑ∏Ïú®
                           </div>
                           <select id="vat-rate" onchange="smartParseVAT()">
                               <option value="10">ÏùºÎ∞ò (10%)</option>
                               <option value="0">Î©¥ÏÑ∏ (0%)</option>
                           </select>
                       </div>
                   </div>
               </div>
               
               <div class="controls">
                   <button class="btn" onclick="calculateVAT()">üìã Î∂ÄÍ∞ÄÏÑ∏ Í≥ÑÏÇ∞</button>
                   <button class="btn btn-secondary" onclick="showVATExample()">üìù ÏòàÏãú</button>
                   <button class="btn btn-danger" onclick="clearVAT()">üóëÔ∏è Ï¥àÍ∏∞Ìôî</button>
               </div>
               
               <div class="result-section" id="vatResult"></div>
           </div>
           
           <!-- Ï¢ÖÌï©ÏÜåÎìùÏÑ∏ Í≥ÑÏÇ∞ -->
           <div id="comprehensive" class="tab-content">
               <div class="input-section">
                   <div class="input-grid">
                       <div class="input-group">
                           <div class="input-label">
                               <span>üí∞</span>
                               Ï¢ÖÌï©ÏÜåÎìù (Ïó∞Í∞Ñ)
                           </div>
                           <input type="text" id="comprehensive-income" placeholder="Ïòà: 8000ÎßåÏõê, 80000000Ïõê..." oninput="smartParseComprehensive()">
                           <div class="parsed-result" id="comprehensiveIncomeParsed">ÏûÖÎ†• ÎåÄÍ∏∞ Ï§ë...</div>
                       </div>
                       
                       <div class="input-group">
                           <div class="input-label">
                               <span>üìù</span>
                               ÏÜåÎìùÍ≥µÏ†ú Ìï©Í≥Ñ
                           </div>
                           <input type="text" id="deductions" placeholder="Ïòà: 1500ÎßåÏõê, 15000000Ïõê..." oninput="smartParseComprehensive()">
                           <div class="parsed-result" id="deductionsParsed">ÏûÖÎ†• ÎåÄÍ∏∞ Ï§ë...</div>
                       </div>
                   </div>
               </div>
               
               <div class="controls">
                   <button class="btn" onclick="calculateComprehensiveTax()">üìã Ï¢ÖÌï©ÏÜåÎìùÏÑ∏ Í≥ÑÏÇ∞</button>
                   <button class="btn btn-secondary" onclick="showComprehensiveExample()">üìù ÏòàÏãú</button>
                   <button class="btn btn-danger" onclick="clearComprehensive()">üóëÔ∏è Ï¥àÍ∏∞Ìôî</button>
               </div>
               
               <div class="result-section" id="comprehensiveResult"></div>
           </div>
       </div>
   </div>

   <script>
       let currentTab = 'income';
       
       class PriceParser {
           constructor() {
               this.koreanUnits = {
                   'Ï≤ú': 1000,
                   'Îßå': 10000,
                   'Ïñµ': 100000000
               };
           }
           
           parseAmount(input) {
               if (!input) return null;
               
               let cleaned = input.replace(/\s+/g, '');
               
               for (let [unit, multiplier] of Object.entries(this.koreanUnits)) {
                   if (cleaned.includes(unit)) {
                       let parts = cleaned.split(unit);
                       if (parts[0]) {
                           let num = parseFloat(parts[0].replace(/[^0-9.]/g, ''));
                           if (!isNaN(num)) {
                               return num * multiplier;
                           }
                       }
                   }
               }
               
               cleaned = cleaned.replace(/[^0-9.]/g, '');
               let num = parseFloat(cleaned);
               
               return isNaN(num) ? null : num;
           }
       }
       
       const parser = new PriceParser();
       
       function switchTab(tabName) {
           document.querySelectorAll('.tab-button').forEach(btn => {
               btn.classList.remove('active');
           });
           event.target.classList.add('active');
           
           document.querySelectorAll('.tab-content').forEach(content => {
               content.classList.remove('active');
           });
           document.getElementById(tabName).classList.add('active');
           
           currentTab = tabName;
       }
       
       // ÏÜåÎìùÏÑ∏ Í≥ÑÏÇ∞
       function smartParseIncome() {
           const income = document.getElementById('annual-income').value;
           const parsedIncome = parser.parseAmount(income);
           
           document.getElementById('annualIncomeParsed').textContent = 
               parsedIncome ? `Ïù∏ÏãùÎê®: ${parsedIncome.toLocaleString()}Ïõê` : 'ÏûÖÎ†• ÎåÄÍ∏∞ Ï§ë...';
       }
       
       function calculateIncomeTax() {
           const annualIncome = parser.parseAmount(document.getElementById('annual-income').value);
           const dependents = parseInt(document.getElementById('dependents').value);
           
           if (!annualIncome) {
               alert('Ïó∞ÏÜåÎìùÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.');
               return;
           }
           
           // Í∏∞Î≥∏Í≥µÏ†ú (Î≥∏Ïù∏ 150ÎßåÏõê + Î∂ÄÏñëÍ∞ÄÏ°± 150ÎßåÏõêÏî©)
           const basicDeduction = 1500000 + (dependents * 1500000);
           
           // Í≥ºÏÑ∏ÌëúÏ§Ä = Ïó∞ÏÜåÎìù - Í∏∞Î≥∏Í≥µÏ†ú
           const taxableIncome = Math.max(0, annualIncome - basicDeduction);
           
           // ÏÜåÎìùÏÑ∏ Í≥ÑÏÇ∞ (ÎàÑÏßÑÏÑ∏Ïú® Ï†ÅÏö©)
           let incomeTax = 0;
           if (taxableIncome <= 14000000) {
               incomeTax = taxableIncome * 0.06;
           } else if (taxableIncome <= 50000000) {
               incomeTax = taxableIncome * 0.15 - 1260000;
           } else if (taxableIncome <= 88000000) {
               incomeTax = taxableIncome * 0.24 - 5760000;
           } else if (taxableIncome <= 150000000) {
               incomeTax = taxableIncome * 0.35 - 15440000;
           } else if (taxableIncome <= 300000000) {
               incomeTax = taxableIncome * 0.38 - 19940000;
           } else if (taxableIncome <= 500000000) {
               incomeTax = taxableIncome * 0.40 - 25940000;
           } else if (taxableIncome <= 1000000000) {
               incomeTax = taxableIncome * 0.42 - 35940000;
           } else {
               incomeTax = taxableIncome * 0.45 - 65940000;
           }
           
           // ÏßÄÎ∞©ÏÜåÎìùÏÑ∏ (ÏÜåÎìùÏÑ∏Ïùò 10%)
           const localTax = incomeTax * 0.1;
           const totalTax = incomeTax + localTax;
           const netIncome = annualIncome - totalTax;
           const monthlyNet = netIncome / 12;
           
           const resultHTML = `
               <div class="result-title">üìã ÏÜåÎìùÏÑ∏ Í≥ÑÏÇ∞ Í≤∞Í≥º</div>
               <div class="tax-display">
                   <div class="tax-value">${Math.round(totalTax).toLocaleString()}Ïõê</div>
                   <div class="tax-description">Ï¥ù ÏÑ∏Í∏à (Ïó∞Í∞Ñ)</div>
               </div>
               <div class="result-grid">
                   <div class="result-item">
                       <div class="result-label">Ïó∞ÏÜåÎìù (ÏÑ∏Ï†Ñ)</div>
                       <div class="result-value">${annualIncome.toLocaleString()}Ïõê</div>
                   </div>
                   <div class="result-item">
                       <div class="result-label">Í≥ºÏÑ∏ÌëúÏ§Ä</div>
                       <div class="result-value">${taxableIncome.toLocaleString()}Ïõê</div>
                   </div>
                   <div class="result-item">
                       <div class="result-label">ÏÜåÎìùÏÑ∏</div>
                       <div class="result-value">${Math.round(incomeTax).toLocaleString()}Ïõê</div>
                   </div>
                   <div class="result-item">
                       <div class="result-label">ÏßÄÎ∞©ÏÜåÎìùÏÑ∏</div>
                       <div class="result-value">${Math.round(localTax).toLocaleString()}Ïõê</div>
                   </div>
                   <div class="result-item">
                       <div class="result-label">Ïã§ÏàòÎ†πÏï° (Ïó∞Í∞Ñ)</div>
                       <div class="result-value">${Math.round(netIncome).toLocaleString()}Ïõê</div>
                   </div>
                   <div class="result-item">
                       <div class="result-label">Ïã§ÏàòÎ†πÏï° (ÏõîÍ∞Ñ)</div>
                       <div class="result-value">${Math.round(monthlyNet).toLocaleString()}Ïõê</div>
                   </div>
               </div>
           `;
           
           document.getElementById('incomeResult').innerHTML = resultHTML;
           document.getElementById('incomeResult').style.display = 'block';
           document.getElementById('incomeResult').scrollIntoView({ behavior: 'smooth' });
       }
       
       function showIncomeExample() {
           document.getElementById('annual-income').value = '5000ÎßåÏõê';
           document.getElementById('dependents').value = '2';
           smartParseIncome();
       }
       
       function clearIncome() {
           document.getElementById('annual-income').value = '';
           document.getElementById('dependents').value = '0';
           document.getElementById('annualIncomeParsed').textContent = 'ÏûÖÎ†• ÎåÄÍ∏∞ Ï§ë...';
           document.getElementById('incomeResult').style.display = 'none';
       }
       
       // Î∂ÄÍ∞ÄÏÑ∏ Í≥ÑÏÇ∞
       function smartParseVAT() {
           const price = document.getElementById('supply-price').value;
           const parsedPrice = parser.parseAmount(price);
           
           document.getElementById('supplyPriceParsed').textContent = 
               parsedPrice ? `Ïù∏ÏãùÎê®: ${parsedPrice.toLocaleString()}Ïõê` : 'ÏûÖÎ†• ÎåÄÍ∏∞ Ï§ë...';
       }
       
       function calculateVAT() {
           const supplyPrice = parser.parseAmount(document.getElementById('supply-price').value);
           const vatRate = parseFloat(document.getElementById('vat-rate').value);
           
           if (!supplyPrice) {
               alert('Í≥µÍ∏âÍ∞ÄÏï°ÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.');
               return;
           }
           
           const vatAmount = supplyPrice * (vatRate / 100);
           const totalPrice = supplyPrice + vatAmount;
           
           const resultHTML = `
               <div class="result-title">üìã Î∂ÄÍ∞ÄÏÑ∏ Í≥ÑÏÇ∞ Í≤∞Í≥º</div>
               <div class="tax-display">
                   <div class="tax-value">${Math.round(vatAmount).toLocaleString()}Ïõê</div>
                   <div class="tax-description">Î∂ÄÍ∞ÄÏÑ∏</div>
               </div>
               <div class="result-grid">
                   <div class="result-item">
                       <div class="result-label">Í≥µÍ∏âÍ∞ÄÏï°</div>
                       <div class="result-value">${supplyPrice.toLocaleString()}Ïõê</div>
                   </div>
                   <div class="result-item">
                       <div class="result-label">Î∂ÄÍ∞ÄÏÑ∏Ïú®</div>
                       <div class="result-value">${vatRate}%</div>
                   </div>
                   <div class="result-item">
                       <div class="result-label">Î∂ÄÍ∞ÄÏÑ∏</div>
                       <div class="result-value">${Math.round(vatAmount).toLocaleString()}Ïõê</div>
                   </div>
                   <div class="result-item">
                       <div class="result-label">Ï¥ùÏï° (Î∂ÄÍ∞ÄÏÑ∏ Ìè¨Ìï®)</div>
                       <div class="result-value">${Math.round(totalPrice).toLocaleString()}Ïõê</div>
                   </div>
               </div>
           `;
           
           document.getElementById('vatResult').innerHTML = resultHTML;
           document.getElementById('vatResult').style.display = 'block';
           document.getElementById('vatResult').scrollIntoView({ behavior: 'smooth' });
       }
       
       function showVATExample() {
           document.getElementById('supply-price').value = '1000ÎßåÏõê';
           document.getElementById('vat-rate').value = '10';
           smartParseVAT();
       }
       
       function clearVAT() {
           document.getElementById('supply-price').value = '';
           document.getElementById('vat-rate').value = '10';
           document.getElementById('supplyPriceParsed').textContent = 'ÏûÖÎ†• ÎåÄÍ∏∞ Ï§ë...';
           document.getElementById('vatResult').style.display = 'none';
       }
       
       // Ï¢ÖÌï©ÏÜåÎìùÏÑ∏ Í≥ÑÏÇ∞
       function smartParseComprehensive() {
           const income = document.getElementById('comprehensive-income').value;
           const deductions = document.getElementById('deductions').value;
           
           const parsedIncome = parser.parseAmount(income);
           const parsedDeductions = parser.parseAmount(deductions);
           
           document.getElementById('comprehensiveIncomeParsed').textContent = 
               parsedIncome ? `Ïù∏ÏãùÎê®: ${parsedIncome.toLocaleString()}Ïõê` : 'ÏûÖÎ†• ÎåÄÍ∏∞ Ï§ë...';
           document.getElementById('deductionsParsed').textContent = 
               parsedDeductions ? `Ïù∏ÏãùÎê®: ${parsedDeductions.toLocaleString()}Ïõê` : 'ÏûÖÎ†• ÎåÄÍ∏∞ Ï§ë...';
       }
       
       function calculateComprehensiveTax() {
           const comprehensiveIncome = parser.parseAmount(document.getElementById('comprehensive-income').value);
           const deductions = parser.parseAmount(document.getElementById('deductions').value) || 0;
           
           if (!comprehensiveIncome) {
               alert('Ï¢ÖÌï©ÏÜåÎìùÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.');
               return;
           }
           
           // Í≥ºÏÑ∏ÌëúÏ§Ä = Ï¢ÖÌï©ÏÜåÎìù - ÏÜåÎìùÍ≥µÏ†ú
           const taxableIncome = Math.max(0, comprehensiveIncome - deductions);
           
           // Ï¢ÖÌï©ÏÜåÎìùÏÑ∏ Í≥ÑÏÇ∞ (ÎàÑÏßÑÏÑ∏Ïú® Ï†ÅÏö©)
           let incomeTax = 0;
           if (taxableIncome <= 14000000) {
               incomeTax = taxableIncome * 0.06;
           } else if (taxableIncome <= 50000000) {
               incomeTax = taxableIncome * 0.15 - 1260000;
           } else if (taxableIncome <= 88000000) {
               incomeTax = taxableIncome * 0.24 - 5760000;
           } else if (taxableIncome <= 150000000) {
               incomeTax = taxableIncome * 0.35 - 15440000;
           } else if (taxableIncome <= 300000000) {
               incomeTax = taxableIncome * 0.38 - 19940000;
           } else if (taxableIncome <= 500000000) {
               incomeTax = taxableIncome * 0.40 - 25940000;
           } else if (taxableIncome <= 1000000000) {
               incomeTax = taxableIncome * 0.42 - 35940000;
           } else {
               incomeTax = taxableIncome * 0.45 - 65940000;
           }
           
           // ÏßÄÎ∞©ÏÜåÎìùÏÑ∏ (ÏÜåÎìùÏÑ∏Ïùò 10%)
           const localTax = incomeTax * 0.1;
           const totalTax = incomeTax + localTax;
           const netIncome = comprehensiveIncome - totalTax;
           const effectiveRate = (totalTax / comprehensiveIncome) * 100;
           
           const resultHTML = `
               <div class="result-title">üìã Ï¢ÖÌï©ÏÜåÎìùÏÑ∏ Í≥ÑÏÇ∞ Í≤∞Í≥º</div>
               <div class="tax-display">
                   <div class="tax-value">${Math.round(totalTax).toLocaleString()}Ïõê</div>
                   <div class="tax-description">Ï¥ù ÏÑ∏Í∏à (Ïó∞Í∞Ñ)</div>
               </div>
               <div class="result-grid">
                   <div class="result-item">
                       <div class="result-label">Ï¢ÖÌï©ÏÜåÎìù</div>
                       <div class="result-value">${comprehensiveIncome.toLocaleString()}Ïõê</div>
                   </div>
                   <div class="result-item">
                       <div class="result-label">ÏÜåÎìùÍ≥µÏ†ú</div>
                       <div class="result-value">${deductions.toLocaleString()}Ïõê</div>
                   </div>
                   <div class="result-item">
                       <div class="result-label">Í≥ºÏÑ∏ÌëúÏ§Ä</div>
                       <div class="result-value">${taxableIncome.toLocaleString()}Ïõê</div>
                   </div>
                   <div class="result-item">
                       <div class="result-label">Ï¢ÖÌï©ÏÜåÎìùÏÑ∏</div>
                       <div class="result-value">${Math.round(incomeTax).toLocaleString()}Ïõê</div>
                   </div>
                   <div class="result-item">
                       <div class="result-label">ÏßÄÎ∞©ÏÜåÎìùÏÑ∏</div>
                       <div class="result-value">${Math.round(localTax).toLocaleString()}Ïõê</div>
                   </div>
                   <div class="result-item">
                       <div class="result-label">Ïã§Ìö®ÏÑ∏Ïú®</div>
                       <div class="result-value">${effectiveRate.toFixed(2)}%</div>
                   </div>
               </div>
           `;
           
           document.getElementById('comprehensiveResult').innerHTML = resultHTML;
           document.getElementById('comprehensiveResult').style.display = 'block';
           document.getElementById('comprehensiveResult').scrollIntoView({ behavior: 'smooth' });
       }
       
       function showComprehensiveExample() {
           document.getElementById('comprehensive-income').value = '8000ÎßåÏõê';
           document.getElementById('deductions').value = '1500ÎßåÏõê';
           smartParseComprehensive();
       }
       
       function clearComprehensive() {
           document.getElementById('comprehensive-income').value = '';
           document.getElementById('deductions').value = '';
           document.getElementById('comprehensiveIncomeParsed').textContent = 'ÏûÖÎ†• ÎåÄÍ∏∞ Ï§ë...';
           document.getElementById('deductionsParsed').textContent = 'ÏûÖÎ†• ÎåÄÍ∏∞ Ï§ë...';
           document.getElementById('comprehensiveResult').style.display = 'none';
       }
       
       window.addEventListener('load', function() {
           showIncomeExample();
           setTimeout(() => calculateIncomeTax(), 1500);
       });
   </script>
</body>
</html>
