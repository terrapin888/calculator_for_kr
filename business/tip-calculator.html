<!DOCTYPE html>
<html lang="ko">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>팁 계산기 - 팁/서비스료 자동 계산 | 스마트 파싱</title>
   <meta name="description" content="팁 계산기로 팁과 총 금액을 쉽게 계산하세요. 음식값과 팁 비율을 자유 형식으로 입력하면 자동 인식합니다.">

   <!-- 이 3줄 추가 -->
   <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
   <link rel="stylesheet" href="../../css/common.css">
   <link rel="stylesheet" href="../../css/calculator.css">
 
   <style>
       * {
           margin: 0;
           padding: 0;
           box-sizing: border-box;
       }
       
       body {
           font-family: 'Malgun Gothic', -apple-system, BlinkMacSystemFont, sans-serif;
           background: linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%);
           min-height: 100vh;
           padding: 20px;
       }
       
       .container {
           max-width: 1200px;
           margin: 0 auto;
           background: white;
           border-radius: 20px;
           box-shadow: 0 25px 50px rgba(0,0,0,0.15);
           overflow: hidden;
           animation: slideUp 0.6s ease-out;
       }
       
       @keyframes slideUp {
           from { opacity: 0; transform: translateY(30px); }
           to { opacity: 1; transform: translateY(0); }
       }
       
       .header {
           background: linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%);
           color: white;
           padding: 40px 30px;
           text-align: center;
           position: relative;
           overflow: hidden;
       }
       
       .header::before {
           content: '';
           position: absolute;
           top: -50%;
           left: -50%;
           width: 200%;
           height: 200%;
           background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
           animation: pulse 4s ease-in-out infinite;
       }
       
       @keyframes pulse {
           0%, 100% { transform: scale(1); }
           50% { transform: scale(1.1); }
       }
       
       .header h1 {
           font-size: 2.5rem;
           margin-bottom: 10px;
           position: relative;
           z-index: 1;
       }
       
       .header p {
           font-size: 1.1rem;
           opacity: 0.9;
           position: relative;
           z-index: 1;
       }
       
       .content {
           padding: 40px 30px;
       }
       
       .calculator-tabs {
           display: flex;
           background: #f8f9fa;
           border-radius: 15px;
           padding: 5px;
           margin-bottom: 30px;
           gap: 5px;
       }
       
       .tab-button {
           flex: 1;
           padding: 15px 20px;
           border: none;
           border-radius: 10px;
           background: transparent;
           cursor: pointer;
           transition: all 0.3s ease;
           font-weight: 600;
           font-size: 14px;
       }
       
       .tab-button.active {
           background: linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%);
           color: white;
       }
       
       .tab-content {
           display: none;
       }
       
       .tab-content.active {
           display: block;
       }
       
       .input-section {
           background: #f8f9fa;
           border-radius: 15px;
           padding: 30px;
           margin-bottom: 30px;
           border: 2px solid #e9ecef;
       }
       
       .input-grid {
           display: grid;
           grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
           gap: 25px;
       }
       
       .input-group {
           background: white;
           border-radius: 12px;
           padding: 20px;
           box-shadow: 0 2px 10px rgba(0,0,0,0.05);
       }
       
       .input-label {
           font-size: 1.1rem;
           font-weight: 600;
           color: #333;
           margin-bottom: 10px;
           display: flex;
           align-items: center;
           gap: 8px;
       }
       
       input[type="text"], input[type="number"], select {
           width: 100%;
           padding: 15px;
           border: 2px solid #e1e5e9;
           border-radius: 8px;
           font-size: 16px;
           transition: all 0.3s ease;
           background: #fafbfc;
       }
       
       input:focus, select:focus {
           outline: none;
           border-color: #84fab0;
           background: white;
           box-shadow: 0 0 0 3px rgba(132, 250, 176, 0.1);
       }
       
       .parsed-result {
           margin-top: 10px;
           padding: 10px;
           background: #e8f5e8;
           border-radius: 6px;
           font-size: 14px;
           color: #2e7d32;
       }
       
       .controls {
           display: flex;
           gap: 15px;
           flex-wrap: wrap;
           justify-content: center;
           margin: 25px 0;
       }
       
       .btn {
           background: linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%);
           color: white;
           border: none;
           padding: 15px 30px;
           border-radius: 25px;
           font-size: 16px;
           font-weight: 600;
           cursor: pointer;
           transition: all 0.3s ease;
       }
       
       .btn:hover {
           transform: translateY(-2px);
           box-shadow: 0 8px 25px rgba(132, 250, 176, 0.3);
       }
       
       .btn-secondary {
           background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
       }
       
       .btn-danger {
           background: linear-gradient(135deg, #ff8a80 0%, #ff5722 100%);
       }
       
       .result-section {
           background: linear-gradient(135deg, #f3e5f5 0%, #e1bee7 100%);
           border-radius: 15px;
           padding: 30px;
           margin-top: 30px;
           border: 2px solid #9c27b0;
           display: none;
           animation: fadeIn 0.5s ease-in;
       }
       
       @keyframes fadeIn {
           from { opacity: 0; transform: translateY(20px); }
           to { opacity: 1; transform: translateY(0); }
       }
       
       .result-title {
           font-size: 1.5rem;
           font-weight: bold;
           color: #6a1b9a;
           margin-bottom: 25px;
           text-align: center;
       }
       
       .tip-display {
           background: white;
           border-radius: 15px;
           padding: 30px;
           text-align: center;
           margin-bottom: 25px;
           box-shadow: 0 5px 20px rgba(0,0,0,0.1);
       }
       
       .tip-value {
           font-size: 3rem;
           font-weight: bold;
           color: #9c27b0;
           margin-bottom: 10px;
       }
       
       .tip-description {
           font-size: 1.2rem;
           color: #666;
       }
       
       .result-grid {
           display: grid;
           grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
           gap: 20px;
       }
       
       .result-item {
           background: white;
           padding: 20px;
           border-radius: 12px;
           text-align: center;
           box-shadow: 0 3px 15px rgba(0,0,0,0.1);
       }
       
       .result-label {
           font-size: 0.9rem;
           color: #666;
           margin-bottom: 8px;
       }
       
       .result-value {
           font-size: 1.3rem;
           font-weight: bold;
           color: #9c27b0;
       }
       
       .preset-tips {
           background: white;
           border-radius: 12px;
           padding: 20px;
           margin-top: 20px;
           box-shadow: 0 3px 15px rgba(0,0,0,0.1);
       }
       
       .preset-title {
           font-size: 1.1rem;
           font-weight: bold;
           color: #333;
           margin-bottom: 15px;
           text-align: center;
       }
       
       .preset-buttons {
           display: grid;
           grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
           gap: 10px;
       }
       
       .preset-btn {
           padding: 12px 15px;
           border: 2px solid #e9ecef;
           border-radius: 20px;
           background: white;
           cursor: pointer;
           transition: all 0.3s ease;
           text-align: center;
           font-weight: 600;
           font-size: 13px;
       }
       
       .preset-btn:hover {
           border-color: #84fab0;
           background: rgba(132, 250, 176, 0.1);
       }
       
       .split-section {
           background: white;
           border-radius: 12px;
           padding: 20px;
           margin-top: 20px;
           box-shadow: 0 3px 15px rgba(0,0,0,0.1);
       }
       
       .split-grid {
           display: grid;
           grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
           gap: 15px;
           margin-top: 15px;
       }
       
       .split-item {
           background: #f8f9fa;
           padding: 15px;
           border-radius: 8px;
           text-align: center;
       }
       
       .split-number {
           font-size: 1.5rem;
           font-weight: bold;
           color: #9c27b0;
           margin-bottom: 5px;
       }
       
       .split-amount {
           font-size: 1.1rem;
           color: #666;
       }
       
       @media (max-width: 768px) {
           .container {
               margin: 10px;
           }
           
           .header h1 {
               font-size: 2rem;
           }
           
           .calculator-tabs {
               flex-direction: column;
           }
           
           .input-grid {
               grid-template-columns: 1fr;
           }
           
           .controls {
               flex-direction: column;
           }
           
           .btn {
               width: 100%;
           }
           
           .tip-value {
               font-size: 2.5rem;
           }
       }
   </style>
</head>
<body>

   <!-- 이 헤더 부분 추가 -->
   <header class="header">
       <div class="header-content">
           <a href="../../index.html" class="logo">
               <div class="logo-icon">🧮</div>
               CalcHub
           </a>
           <nav class="nav-links">
               <a href="../../index.html" class="nav-link">홈</a>
               <a href="../business/" class="nav-link">💼 비즈니스</a>
           </nav>
       </div>
   </header>
 
   <div class="container">
       <div class="header">
           <h1>💰 팁 계산기</h1>
           <p>팁과 총 금액을 쉽게 계산하고 인원별로 나누어보세요</p>
       </div>
       
       <div class="content">
           <div class="calculator-tabs">
               <button class="tab-button active" onclick="switchTab('basic')">기본 팁 계산</button>
               <button class="tab-button" onclick="switchTab('split')">더치페이</button>
               <button class="tab-button" onclick="switchTab('service')">서비스료 계산</button>
           </div>
           
           <!-- 기본 팁 계산 -->
           <div id="basic" class="tab-content active">
               <div class="input-section">
                   <div class="input-grid">
                       <div class="input-group">
                           <div class="input-label">
                               <span>🍽️</span>
                               음식값 (세전)
                           </div>
                           <input type="text" id="bill-amount" placeholder="예: 50000원, 5만원..." oninput="smartParseBasic()">
                           <div class="parsed-result" id="billAmountParsed">입력 대기 중...</div>
                       </div>
                       
                       <div class="input-group">
                           <div class="input-label">
                               <span>💸</span>
                               팁 비율
                           </div>
                           <input type="text" id="tip-percentage" placeholder="예: 15%, 0.15..." oninput="smartParseBasic()">
                           <div class="parsed-result" id="tipPercentageParsed">입력 대기 중...</div>
                       </div>
                   </div>
                   
                   <div class="preset-tips">
                       <div class="preset-title">🎯 빠른 팁 비율 선택</div>
                       <div class="preset-buttons">
                           <button class="preset-btn" onclick="setTipPercentage(10)">10%</button>
                           <button class="preset-btn" onclick="setTipPercentage(15)">15%</button>
                           <button class="preset-btn" onclick="setTipPercentage(18)">18%</button>
                           <button class="preset-btn" onclick="setTipPercentage(20)">20%</button>
                           <button class="preset-btn" onclick="setTipPercentage(22)">22%</button>
                           <button class="preset-btn" onclick="setTipPercentage(25)">25%</button>
                       </div>
                   </div>
               </div>
               
               <div class="controls">
                   <button class="btn" onclick="calculateBasicTip()">💰 팁 계산</button>
                   <button class="btn btn-secondary" onclick="showBasicExample()">📝 예시</button>
                   <button class="btn btn-danger" onclick="clearBasic()">🗑️ 초기화</button>
               </div>
               
               <div class="result-section" id="basicResult"></div>
           </div>
           
           <!-- 더치페이 -->
           <div id="split" class="tab-content">
               <div class="input-section">
                   <div class="input-grid">
                       <div class="input-group">
                           <div class="input-label">
                               <span>🍽️</span>
                               총 음식값
                           </div>
                           <input type="text" id="split-bill-amount" placeholder="예: 120000원, 12만원..." oninput="smartParseSplit()">
                           <div class="parsed-result" id="splitBillAmountParsed">입력 대기 중...</div>
                       </div>
                       
                       <div class="input-group">
                           <div class="input-label">
                               <span>💸</span>
                               팁 비율
                           </div>
                           <input type="text" id="split-tip-percentage" placeholder="예: 15%, 0.15..." oninput="smartParseSplit()">
                           <div class="parsed-result" id="splitTipPercentageParsed">입력 대기 중...</div>
                       </div>
                       
                       <div class="input-group">
                           <div class="input-label">
                               <span>👥</span>
                               총 인원
                           </div>
                           <select id="people-count" onchange="smartParseSplit()">
                               <option value="2">2명</option>
                               <option value="3">3명</option>
                               <option value="4">4명</option>
                               <option value="5">5명</option>
                               <option value="6">6명</option>
                               <option value="7">7명</option>
                               <option value="8">8명</option>
                               <option value="9">9명</option>
                               <option value="10">10명</option>
                           </select>
                       </div>
                   </div>
               </div>
               
               <div class="controls">
                   <button class="btn" onclick="calculateSplitTip()">💰 더치페이 계산</button>
                   <button class="btn btn-secondary" onclick="showSplitExample()">📝 예시</button>
                   <button class="btn btn-danger" onclick="clearSplit()">🗑️ 초기화</button>
               </div>
               
               <div class="result-section" id="splitResult"></div>
           </div>
           
           <!-- 서비스료 계산 -->
           <div id="service" class="tab-content">
               <div class="input-section">
                   <div class="input-grid">
                       <div class="input-group">
                           <div class="input-label">
                               <span>💰</span>
                               기본 금액
                           </div>
                           <input type="text" id="service-base-amount" placeholder="예: 200000원, 20만원..." oninput="smartParseService()">
                           <div class="parsed-result" id="serviceBaseAmountParsed">입력 대기 중...</div>
                       </div>
                       
                       <div class="input-group">
                           <div class="input-label">
                               <span>🏨</span>
                               서비스료율
                           </div>
                           <select id="service-rate" onchange="smartParseService()">
                               <option value="10">호텔 (10%)</option>
                               <option value="15">레스토랑 (15%)</option>
                               <option value="5">카페 (5%)</option>
                               <option value="20">럭셔리 서비스 (20%)</option>
                               <option value="custom">직접 입력</option>
                           </select>
                       </div>
                   </div>
                   
                   <div class="input-group" id="custom-service-group" style="display: none; margin-top: 20px;">
                       <div class="input-label">
                           <span>📊</span>
                           커스텀 서비스료율
                       </div>
                       <input type="text" id="custom-service-rate" placeholder="예: 12%, 0.12..." oninput="smartParseService()">
                       <div class="parsed-result" id="customServiceRateParsed">입력 대기 중...</div>
                   </div>
               </div>
               
               <div class="controls">
                   <button class="btn" onclick="calculateServiceFee()">💰 서비스료 계산</button>
                   <button class="btn btn-secondary" onclick="showServiceExample()">📝 예시</button>
                   <button class="btn btn-danger" onclick="clearService()">🗑️ 초기화</button>
               </div>
               
               <div class="result-section" id="serviceResult"></div>
           </div>
       </div>
   </div>

   <script>
       let currentTab = 'basic';
       
       class PriceParser {
           constructor() {
               this.koreanUnits = {
                   '천': 1000,
                   '만': 10000,
                   '억': 100000000
               };
           }
           
           parseAmount(input) {
               if (!input) return null;
               
               let cleaned = input.replace(/\s+/g, '');
               
               for (let [unit, multiplier] of Object.entries(this.koreanUnits)) {
                   if (cleaned.includes(unit)) {
                       let parts = cleaned.split(unit);
                       if (parts[0]) {
                           let num = parseFloat(parts[0].replace(/[^0-9.]/g, ''));
                           if (!isNaN(num)) {
                               return num * multiplier;
                           }
                       }
                   }
               }
               
               cleaned = cleaned.replace(/[^0-9.]/g, '');
               let num = parseFloat(cleaned);
               
               return isNaN(num) ? null : num;
           }
           
           parseRate(input) {
               if (!input) return null;
               
               let cleaned = input.replace(/\s+/g, '');
               
               if (cleaned.includes('%')) {
                   let num = parseFloat(cleaned.replace(/[^0-9.]/g, ''));
                   return isNaN(num) ? null : num;
               }
               
               let num = parseFloat(cleaned.replace(/[^0-9.]/g, ''));
               
               if (isNaN(num)) return null;
               
               return num > 1 ? num : num * 100;
           }
       }
       
       const parser = new PriceParser();
       
       function switchTab(tabName) {
           document.querySelectorAll('.tab-button').forEach(btn => {
               btn.classList.remove('active');
           });
           event.target.classList.add('active');
           
           document.querySelectorAll('.tab-content').forEach(content => {
               content.classList.remove('active');
           });
           document.getElementById(tabName).classList.add('active');
           
           currentTab = tabName;
       }
       
       // 기본 팁 계산
       function smartParseBasic() {
           const billAmount = document.getElementById('bill-amount').value;
           const tipPercentage = document.getElementById('tip-percentage').value;
           
           const parsedBill = parser.parseAmount(billAmount);
           const parsedTip = parser.parseRate(tipPercentage);
           
           document.getElementById('billAmountParsed').textContent = 
               parsedBill ? `인식됨: ${parsedBill.toLocaleString()}원` : '입력 대기 중...';
           document.getElementById('tipPercentageParsed').textContent = 
               parsedTip ? `인식됨: ${parsedTip}%` : '입력 대기 중...';
       }
       
       function setTipPercentage(percentage) {
           document.getElementById('tip-percentage').value = percentage + '%';
           smartParseBasic();
       }
       
       function calculateBasicTip() {
           const billAmount = parser.parseAmount(document.getElementById('bill-amount').value);
           const tipPercentage = parser.parseRate(document.getElementById('tip-percentage').value);
           
           if (!billAmount || !tipPercentage) {
               alert('음식값과 팁 비율을 모두 입력해주세요.');
               return;
           }
           
           const tipAmount = billAmount * (tipPercentage / 100);
           const totalAmount = billAmount + tipAmount;
           
           const resultHTML = `
               <div class="result-title">💰 팁 계산 결과</div>
               <div class="tip-display">
                   <div class="tip-value">${Math.round(totalAmount).toLocaleString()}원</div>
                   <div class="tip-description">총 지불 금액</div>
               </div>
               <div class="result-grid">
                   <div class="result-item">
                       <div class="result-label">음식값</div>
                       <div class="result-value">${billAmount.toLocaleString()}원</div>
                   </div>
                   <div class="result-item">
                       <div class="result-label">팁 비율</div>
                       <div class="result-value">${tipPercentage}%</div>
                   </div>
                   <div class="result-item">
                       <div class="result-label">팁 금액</div>
                       <div class="result-value">${Math.round(tipAmount).toLocaleString()}원</div>
                   </div>
                   <div class="result-item">
                       <div class="result-label">총 금액</div>
                       <div class="result-value">${Math.round(totalAmount).toLocaleString()}원</div>
                   </div>
               </div>
           `;
           
           document.getElementById('basicResult').innerHTML = resultHTML;
           document.getElementById('basicResult').style.display = 'block';
           document.getElementById('basicResult').scrollIntoView({ behavior: 'smooth' });
       }
       
       function showBasicExample() {
           document.getElementById('bill-amount').value = '5만원';
           document.getElementById('tip-percentage').value = '15%';
           smartParseBasic();
       }
       
       function clearBasic() {
           document.getElementById('bill-amount').value = '';
           document.getElementById('tip-percentage').value = '';
           document.getElementById('billAmountParsed').textContent = '입력 대기 중...';
           document.getElementById('tipPercentageParsed').textContent = '입력 대기 중...';
           document.getElementById('basicResult').style.display = 'none';
       }
       
       // 더치페이 계산
       function smartParseSplit() {
           const billAmount = document.getElementById('split-bill-amount').value;
           const tipPercentage = document.getElementById('split-tip-percentage').value;
           
           const parsedBill = parser.parseAmount(billAmount);
           const parsedTip = parser.parseRate(tipPercentage);
           
           document.getElementById('splitBillAmountParsed').textContent = 
               parsedBill ? `인식됨: ${parsedBill.toLocaleString()}원` : '입력 대기 중...';
           document.getElementById('splitTipPercentageParsed').textContent = 
               parsedTip ? `인식됨: ${parsedTip}%` : '입력 대기 중...';
       }
       
       function calculateSplitTip() {
           const billAmount = parser.parseAmount(document.getElementById('split-bill-amount').value);
           const tipPercentage = parser.parseRate(document.getElementById('split-tip-percentage').value);
           const peopleCount = parseInt(document.getElementById('people-count').value);
           
           if (!billAmount || !tipPercentage) {
               alert('총 음식값과 팁 비율을 모두 입력해주세요.');
               return;
           }
           
           const tipAmount = billAmount * (tipPercentage / 100);
           const totalAmount = billAmount + tipAmount;
           const perPersonAmount = totalAmount / peopleCount;
           const perPersonBill = billAmount / peopleCount;
           const perPersonTip = tipAmount / peopleCount;
           
           // 인원별 계산 표시
           let splitItems = '';
           for (let i = 1; i <= peopleCount; i++) {
               splitItems += `
                   <div class="split-item">
                       <div class="split-number">${i}번째</div>
                       <div class="split-amount">${Math.round(perPersonAmount).toLocaleString()}원</div>
                   </div>
               `;
           }
           
           const resultHTML = `
               <div class="result-title">💰 더치페이 계산 결과</div>
               <div class="tip-display">
                   <div class="tip-value">${Math.round(perPersonAmount).toLocaleString()}원</div>
                   <div class="tip-description">1인당 지불 금액</div>
               </div>
               <div class="result-grid">
                   <div class="result-item">
                       <div class="result-label">총 음식값</div>
                       <div class="result-value">${billAmount.toLocaleString()}원</div>
                   </div>
                   <div class="result-item">
                       <div class="result-label">총 팁</div>
                       <div class="result-value">${Math.round(tipAmount).toLocaleString()}원</div>
                   </div>
                   <div class="result-item">
                       <div class="result-label">총 금액</div>
                       <div class="result-value">${Math.round(totalAmount).toLocaleString()}원</div>
                   </div>
                   <div class="result-item">
                       <div class="result-label">총 인원</div>
                       <div class="result-value">${peopleCount}명</div>
                   </div>
                   <div class="result-item">
                       <div class="result-label">1인당 음식값</div>
                       <div class="result-value">${Math.round(perPersonBill).toLocaleString()}원</div>
                   </div>
                   <div class="result-item">
                       <div class="result-label">1인당 팁</div>
                       <div class="result-value">${Math.round(perPersonTip).toLocaleString()}원</div>
                   </div>
               </div>
               <div class="split-section">
                   <div class="preset-title">👥 인원별 지불 금액</div>
                   <div class="split-grid">
                       ${splitItems}
                   </div>
               </div>
           `;
           
           document.getElementById('splitResult').innerHTML = resultHTML;
           document.getElementById('splitResult').style.display = 'block';
           document.getElementById('splitResult').scrollIntoView({ behavior: 'smooth' });
       }
       
       function showSplitExample() {
           document.getElementById('split-bill-amount').value = '12만원';
           document.getElementById('split-tip-percentage').value = '18%';
           document.getElementById('people-count').value = '4';
           smartParseSplit();
       }
       
       function clearSplit() {
           document.getElementById('split-bill-amount').value = '';
           document.getElementById('split-tip-percentage').value = '';
           document.getElementById('people-count').value = '2';
           document.getElementById('splitBillAmountParsed').textContent = '입력 대기 중...';
           document.getElementById('splitTipPercentageParsed').textContent = '입력 대기 중...';
           document.getElementById('splitResult').style.display = 'none';
       }
       
       // 서비스료 계산
       function smartParseService() {
           const baseAmount = document.getElementById('service-base-amount').value;
           const parsedAmount = parser.parseAmount(baseAmount);
           
           document.getElementById('serviceBaseAmountParsed').textContent = 
               parsedAmount ? `인식됨: ${parsedAmount.toLocaleString()}원` : '입력 대기 중...';
           
           const serviceSelect = document.getElementById('service-rate');
           const customGroup = document.getElementById('custom-service-group');
           
           if (serviceSelect.value === 'custom') {
               customGroup.style.display = 'block';
               const customRate = document.getElementById('custom-service-rate').value;
               const parsedRate = parser.parseRate(customRate);
               document.getElementById('customServiceRateParsed').textContent = 
                   parsedRate ? `인식됨: ${parsedRate}%` : '입력 대기 중...';
           } else {
               customGroup.style.display = 'none';
           }
       }
       
       function calculateServiceFee() {
           const baseAmount = parser.parseAmount(document.getElementById('service-base-amount').value);
           const serviceSelect = document.getElementById('service-rate');
           
           if (!baseAmount) {
               alert('기본 금액을 입력해주세요.');
               return;
           }
           
           let serviceRate;
           let serviceName;
           
           if (serviceSelect.value === 'custom') {
               serviceRate = parser.parseRate(document.getElementById('custom-service-rate').value);
               serviceName = '커스텀 서비스';
               if (!serviceRate) {
                   alert('커스텀 서비스료율을 입력해주세요.');
                   return;
               }
           } else {
               serviceRate = parseFloat(serviceSelect.value);
               serviceName = serviceSelect.options[serviceSelect.selectedIndex].text;
           }
           
           const serviceFee = baseAmount * (serviceRate / 100);
           const totalAmount = baseAmount + serviceFee;
           
           const resultHTML = `
               <div class="result-title">💰 서비스료 계산 결과</div>
               <div class="tip-display">
                   <div class="tip-value">${Math.round(totalAmount).toLocaleString()}원</div>
                   <div class="tip-description">총 지불 금액</div>
               </div>
               <div class="result-grid">
                   <div class="result-item">
                       <div class="result-label">기본 금액</div>
                       <div class="result-value">${baseAmount.toLocaleString()}원</div>
                   </div>
                   <div class="result-item">
                       <div class="result-label">서비스 종류</div>
                       <div class="result-value" style="font-size: 1rem;">${serviceName}</div>
                   </div>
                   <div class="result-item">
                       <div class="result-label">서비스료율</div>
                       <div class="result-value">${serviceRate}%</div>
                   </div>
                   <div class="result-item">
                       <div class="result-label">서비스료</div>
                       <div class="result-value">${Math.round(serviceFee).toLocaleString()}원</div>
                   </div>
               </div>
           `;
           
           document.getElementById('serviceResult').innerHTML = resultHTML;
           document.getElementById('serviceResult').style.display = 'block';
           document.getElementById('serviceResult').scrollIntoView({ behavior: 'smooth' });
       }
       
       function showServiceExample() {
           document.getElementById('service-base-amount').value = '20만원';
           document.getElementById('service-rate').value = '15';
           smartParseService();
       }
       
       function clearService() {
           document.getElementById('service-base-amount').value = '';
           document.getElementById('service-rate').value = '10';
           document.getElementById('custom-service-rate').value = '';
           document.getElementById('serviceBaseAmountParsed').textContent = '입력 대기 중...';
           document.getElementById('customServiceRateParsed').textContent = '입력 대기 중...';
           document.getElementById('custom-service-group').style.display = 'none';
           document.getElementById('serviceResult').style.display = 'none';
       }
       
       window.addEventListener('load', function() {
           showBasicExample();
           setTimeout(() => calculateBasicTip(), 1500);
       });
   </script>
</body>
</html>
