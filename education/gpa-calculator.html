<!DOCTYPE html>
<html lang="ko">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-68VLJL7XXD"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-68VLJL7XXD');
    </script>
    
    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2277280131930191"
         crossorigin="anonymous"></script>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GPA 계산기 - 무료 온라인 학점 평점 성적 계산 | CalcHub</title>
    <meta name="description" content="무료 GPA 계산기로 학점, 평점, 성적 등급을 즉시 계산하세요. 4.5 만점, 4.0 만점, 100점 만점 체계 모두 지원. 대학 성적 관리와 장학금 신청, 진학 준비에 필수적인 도구.">
    <meta name="keywords" content="온라인계산기, 무료계산기, GPA계산기, 학점계산기, 평점계산기, 성적계삸기, 대학성적계산기, 학점관리계삸기, 성적관리계삸기, 장학금계삸기, 진학용GPA계삸기">
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/common.css">
</head>
<body>
    <!-- 공통 헤더 -->
    <header class="header">
        <div class="header-content">
            <a href="../index.html" class="logo">
                <div class="logo-icon">🧮</div>
                CalcHub
            </a>
            <nav class="nav-links">
                <a href="../index.html#calculators" class="nav-link">계산기</a>
                <a href="../about.html" class="nav-link">소개</a>
                <a href="../contact.html" class="nav-link">문의</a>
            </nav>
        </div>
    </header>

    <div class="container">
        <div class="calculator-card">
            <!-- 계산기 헤더 -->
            <div class="calculator-header">
                <h1 class="calculator-title">GPA 계산기</h1>
                <p class="calculator-subtitle">학점과 평점을 간편하게 계산하세요</p>
            </div>

            <!-- 계산기 본문 -->
            <div class="calculator-body">
                <!-- 입력 섹션 -->
                <div class="input-section">
                    <h2 class="section-title">성적 입력</h2>
                    <div class="input-grid">
                        <div class="input-group">
                            <label for="subjectData" class="input-label">과목별 성적과 학점</label>
                            <textarea id="subjectData" class="input-field" rows="4" 
                                placeholder="예:&#10;수학 A+ 3학점&#10;영어 B 2학점&#10;물리 A 3학점"></textarea>
                        </div>
                        <div class="input-group">
                            <label for="gradeSystem" class="input-label">학점 체계</label>
                            <select id="gradeSystem" class="input-field" onchange="updateGradeInfo()">
                                <option value="4.5">4.5 만점 (A+ = 4.5)</option>
                                <option value="4.0">4.0 만점 (A+ = 4.0)</option>
                                <option value="100">100점 만점</option>
                            </select>
                        </div>
                    </div>
                    <button onclick="calculate()" class="btn btn-primary">GPA 계산하기</button>
                </div>

                <!-- 결과 섹션 -->
                <div id="resultSection" class="result-section">
                    <h2 class="result-title">계산 결과</h2>
                    <div class="result-grid">
                        <div class="result-item">
                            <div class="result-label">총 평점 (GPA)</div>
                            <div id="totalGPA" class="result-value highlight">-</div>
                        </div>
                        <div class="result-item">
                            <div class="result-label">총 이수 학점</div>
                            <div id="totalCredits" class="result-value">-</div>
                        </div>
                        <div class="result-item">
                            <div class="result-label">평점 등급</div>
                            <div id="gradeLevel" class="result-value">-</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 교육 콘텐츠 섹션 추가 -->
            <div class="content-section" style="margin-top: 40px; padding: 30px; background: #f8f9fa; border-radius: 12px;">
                
                <!-- 1. 메뉴얼 (사용법 가이드) -->
                <div class="manual-section" style="margin-bottom: 30px;">
                    <h2 style="color: #333; font-size: 24px; margin-bottom: 15px;">📖 GPA계산기 사용 가이드</h2>
                    <p style="line-height: 1.8; color: #666;">
                        GPA계산기는 한국 대학교의 다양한 학점 체계(4.5 만점, 4.0 만점, 100점 만점)를 모두 지원하여 정확한 평점을 계산해드립니다.
                        과목별 성적과 학점을 입력하면 자동으로 총 평점과 이수 학점, 등급을 계산하여 장학금 신청이나 졸업 요건 확인에 도움을 드립니다.
                    </p>
                    <ul style="line-height: 1.8; color: #666; margin-left: 20px;">
                        <li><strong>다양한 입력 형식:</strong> "수학 A+ 3학점", "영어 87점 2학점" 등 자연스러운 한국어 표현으로 입력 가능</li>
                        <li><strong>학점 체계 선택:</strong> 4.5 만점(A+=4.5), 4.0 만점(A+=4.0), 100점 만점 체계를 선택하여 계산</li>
                        <li><strong>정확한 평점 계산:</strong> 학점 가중평균으로 실제 대학 성적표와 동일한 결과 제공</li>
                        <li><strong>등급 분류:</strong> 계산된 GPA를 A~F 등급으로 분류하여 성적 수준을 직관적으로 확인</li>
                    </ul>
                </div>

                <!-- 2. 실제 예시 -->
                <div class="example-section" style="margin-bottom: 30px;">
                    <h2 style="color: #333; font-size: 24px; margin-bottom: 15px;">💡 실제 활용 예시</h2>
                    
                    <div style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 15px;">
                        <h3 style="color: #007bff; font-size: 18px; margin-bottom: 10px;">🏆 장학금 신청 (우등장학금)</h3>
                        <p style="line-height: 1.8; color: #666;">
                            • 성적 장학금 조건: GPA 3.7 이상 → <strong>현재 3.85/4.5 = 합격</strong><br>
                            • SKY대학 교내장학금: 상위 10% (약 GPA 4.2 이상)<br>
                            • 정부 국가장학금 성적기준: 직전학기 12학점 이상 이수, GPA 2.5 이상 유지
                        </p>
                    </div>

                    <div style="background: white; padding: 20px; border-radius: 8px; margin-bottom: 15px;">
                        <h3 style="color: #28a745; font-size: 18px; margin-bottom: 10px;">📚 졸업 요건 및 학위 취득</h3>
                        <p style="line-height: 1.8; color: #666;">
                            • 일반 졸업 요건: 총 130학점 이수, <strong>전체 GPA 2.0 이상</strong><br>
                            • 우등졸업 조건: 전체 GPA 3.5 이상 (magna cum laude: 3.7 이상)<br>
                            • 전공 GPA vs 전체 GPA: 전공 3.0 이상, 전체 2.5 이상이 일반적 기준
                        </p>
                    </div>

                    <div style="background: white; padding: 20px; border-radius: 8px;">
                        <h3 style="color: #dc3545; font-size: 18px; margin-bottom: 10px;">🎓 대학원 진학 및 취업</h3>
                        <p style="line-height: 1.8; color: #666;">
                            • 국내 대학원: 전체 GPA 3.0 이상, 전공 GPA 3.3 이상 권장<br>
                            • 해외 대학원(미국): <strong>GPA 3.5 이상</strong> 필수, 명문대는 3.7 이상<br>
                            • 대기업 공채: 평점 3.0~3.5 이상, 금융권은 3.7 이상 선호
                        </p>
                    </div>
                </div>

                <!-- 3. 생활 꿀팁 -->
                <div class="tips-section" style="margin-bottom: 30px;">
                    <h2 style="color: #333; font-size: 24px; margin-bottom: 15px;">🔥 학점 관리 생활 꿀팁</h2>
                    <div style="background: #fff3cd; padding: 20px; border-radius: 8px; border-left: 4px solid #ffc107;">
                        <ul style="line-height: 2; color: #666; margin-left: 20px;">
                            <li><strong>학점 가중치 전략:</strong> 전공 3학점 A+ = 교양 2학점 A+ 이상의 효과. 전공 과목에 집중</li>
                            <li><strong>F학점 수습법:</strong> 재수강으로 F학점 덮어쓰기 가능. 평점 크게 상승시킬 수 있는 기회</li>
                            <li><strong>P/NP 과목 활용:</strong> 어려운 과목은 P/NP로 수강하여 평점 보호 (졸업학점엔 포함)</li>
                            <li><strong>계절학기 전략:</strong> 상대평가가 아닌 절대평가 과목 위주로 수강하여 확실한 학점 확보</li>
                            <li><strong>학점 철회 타이밍:</strong> 중간고사 후 F 예상시 수강철회 고려 (철회 기간 꼭 확인)</li>
                            <li><strong>복수전공 GPA:</strong> 주전공과 복수전공 GPA 따로 관리하여 진로별 최적화된 성적 관리</li>
                        </ul>
                    </div>
                </div>

                <!-- 4. 한국형 맞춤 특화 -->
                <div class="korean-special-section">
                    <h2 style="color: #333; font-size: 24px; margin-bottom: 15px;">📚 관련 용어 정리</h2>
                    <div style="background: #e8f4fd; padding: 20px; border-radius: 8px; border-left: 4px solid #007bff;">
                        <p style="line-height: 1.8; color: #666; margin-bottom: 10px;">
                            <strong>✅ 한국 대학별 학점체계:</strong> 서울대(4.3), 연세대(4.3), 고려대(4.5) 등 주요 대학 체계 완벽 지원<br>
                            <strong>✅ 장학금 연계 시스템:</strong> 국가장학금, 교내장학금, 기업장학금별 GPA 기준 자동 매칭<br>
                            <strong>✅ 취업 지원 연계:</strong> 대기업/공기업/금융권별 요구 GPA 기준 및 학점 관리 전략 제공<br>
                            <strong>✅ 대학원 진학 가이드:</strong> 국내/해외 대학원별 요구 GPA 및 전공별 특화 기준 안내<br>
                            <strong>✅ 학사경고 관리:</strong> GPA 1.75 미만 학사경고, 연속 경고 시 제적 위험 등 한국 학사관리 규정 반영
                        </p>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // 숫자 파싱 함수
        function parseNumber(input) {
            if (!input || typeof input !== 'string') return 0;
            
            // 원본 보관 (퍼센트 체크용)
            const original = input.trim();
            
            // 기본 정리 (쉼표, 공백, 언더스코어 제거)
            input = input.replace(/[,\s_]/g, '').toLowerCase();
            
            // 퍼센트 처리 (%, percent, 퍼센트)
            let isPercent = false;
            if (input.includes('%') || input.includes('percent') || input.includes('퍼센트')) {
                isPercent = true;
                input = input.replace(/(%|percent|퍼센트)/g, '');
            }
            
            // 한국어 단위 변환 (더 많은 단위 추가)
            const units = {
                '조': 1000000000000,
                '천억': 100000000000,
                '백억': 10000000000,
                '십억': 1000000000,
                '억': 100000000,
                '천만': 10000000,
                '백만': 1000000,
                '십만': 100000,
                '만': 10000,
                '천': 1000,
                '백': 100,
                '십': 10
            };
            
            // 단위 변환 처리
            for (let unit in units) {
                if (input.includes(unit)) {
                    const numPart = input.replace(unit, '');
                    const num = parseFloat(numPart) || 1;
                    let result = num * units[unit];
                    
                    if (isPercent) result = result / 100;
                    
                    return result;
                }
            }
            
            // 일반 숫자 파싱 (소수점 고정밀도 지원)
            let parsed = parseFloat(input);
            if (isNaN(parsed)) return 0;
            
            if (isPercent) parsed = parsed / 100;
            
            return parsed;
        }

        // 학점 체계 정의
        const gradeSystems = {
            '4.5': {
                'A+': 4.5, 'A': 4.0, 'B+': 3.5, 'B': 3.0, 'C+': 2.5, 'C': 2.0, 'D+': 1.5, 'D': 1.0, 'F': 0
            },
            '4.0': {
                'A+': 4.0, 'A': 4.0, 'A-': 3.7, 'B+': 3.3, 'B': 3.0, 'B-': 2.7, 'C+': 2.3, 'C': 2.0, 'C-': 1.7, 'D+': 1.3, 'D': 1.0, 'F': 0
            },
            '100': {} // 숫자 점수는 별도 처리
        };

        // 학점 체계 정보 업데이트
        function updateGradeInfo() {
            const system = document.getElementById('gradeSystem').value;
            const textarea = document.getElementById('subjectData');
            
            if (system === '100') {
                textarea.placeholder = '예:\n수학 95점 3학점\n영어 87점 2학점\n물리 92점 3학점';
            } else {
                textarea.placeholder = '예:\n수학 A+ 3학점\n영어 B 2학점\n물리 A 3학점';
            }
        }

        // 성적 파싱 함수
        function parseGradeData(input) {
            if (!input) return [];
            
            const lines = input.trim().split('\n');
            const subjects = [];
            
            for (let line of lines) {
                line = line.trim();
                if (!line) continue;
                
                // 정규표현식으로 과목명, 성적, 학점 추출
                let match;
                
                // 패턴 1: "과목명 성적 N학점" (예: 수학 A+ 3학점)
                match = line.match(/(.+?)\s+([A-F][+-]?|\d+점?)\s*(\d+(?:\.\d+)?)\s*학점/);
                if (match) {
                    subjects.push({
                        name: match[1].trim(),
                        grade: match[2].trim(),
                        credits: parseFloat(match[3])
                    });
                    continue;
                }
                
                // 패턴 2: "과목명 N학점 성적" (예: 수학 3학점 A+)
                match = line.match(/(.+?)\s*(\d+(?:\.\d+)?)\s*학점\s+([A-F][+-]?|\d+점?)/);
                if (match) {
                    subjects.push({
                        name: match[1].trim(),
                        grade: match[3].trim(),
                        credits: parseFloat(match[2])
                    });
                    continue;
                }
                
                // 패턴 3: 간단한 형태 (예: A+ 3, 95 3)
                match = line.match(/([A-F][+-]?|\d+점?)\s+(\d+(?:\.\d+)?)/);
                if (match) {
                    subjects.push({
                        name: `과목${subjects.length + 1}`,
                        grade: match[1].trim(),
                        credits: parseFloat(match[2])
                    });
                    continue;
                }
            }
            
            return subjects;
        }

        // 성적을 점수로 변환
        function gradeToPoints(grade, system) {
            const systemData = gradeSystems[system];
            
            if (system === '100') {
                // 숫자 점수 처리
                const score = parseFloat(grade.replace('점', ''));
                if (score >= 97) return 4.5;
                if (score >= 93) return 4.0;
                if (score >= 90) return 3.5;
                if (score >= 87) return 3.0;
                if (score >= 83) return 2.5;
                if (score >= 80) return 2.0;
                if (score >= 77) return 1.5;
                if (score >= 70) return 1.0;
                return 0;
            } else {
                return systemData[grade.toUpperCase()] || 0;
            }
        }

        // 평점을 등급으로 변환
        function getGradeLevel(gpa) {
            if (gpa >= 4.0) return 'A 등급 (우수)';
            if (gpa >= 3.5) return 'B+ 등급 (양호)';
            if (gpa >= 3.0) return 'B 등급 (보통)';
            if (gpa >= 2.5) return 'C+ 등급';
            if (gpa >= 2.0) return 'C 등급';
            if (gpa >= 1.0) return 'D 등급';
            return 'F 등급';
        }

        // 계산 함수
        function calculate() {
            const subjectData = document.getElementById('subjectData').value;
            const gradeSystem = document.getElementById('gradeSystem').value;
            
            if (!subjectData.trim()) {
                alert('성적 정보를 입력해주세요');
                return;
            }

            const subjects = parseGradeData(subjectData);
            
            if (subjects.length === 0) {
                alert('올바른 성적 형식으로 입력해주세요');
                return;
            }

            let totalPoints = 0;
            let totalCredits = 0;

            for (let subject of subjects) {
                const points = gradeToPoints(subject.grade, gradeSystem);
                totalPoints += points * subject.credits;
                totalCredits += subject.credits;
            }

            if (totalCredits === 0) {
                alert('학점이 0이거나 올바르지 않습니다');
                return;
            }

            const gpa = totalPoints / totalCredits;
            const maxGpa = gradeSystem === '4.5' ? 4.5 : 4.0;

            // 결과 표시
            document.getElementById('totalGPA').textContent = `${gpa.toFixed(2)}/${maxGpa}`;
            document.getElementById('totalCredits').textContent = `${totalCredits}학점`;
            document.getElementById('gradeLevel').textContent = getGradeLevel(gpa);
            
            document.getElementById('resultSection').classList.add('fade-in');
        }

        // 엔터키로 계산
        document.addEventListener('keypress', function(e) {
            if (e.key === 'Enter' && e.target.tagName !== 'TEXTAREA') {
                calculate();
            }
        });

        // 초기화
        window.onload = function() {
            updateGradeInfo();
        };
    </script>
</body>
</html>