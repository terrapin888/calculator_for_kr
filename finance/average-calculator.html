<!DOCTYPE html>
<html lang="ko">
<head>
    <!-- Google tag (gtag.js) -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-68VLJL7XXD"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-68VLJL7XXD');
    </script>
    
    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2277280131930191"
         crossorigin="anonymous"></script>
    
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>í‰ê· ê³„ì‚°ê¸° - ë¬´ë£Œ ì˜¨ë¼ì¸ í‰ê· ê°’ ê³„ì‚° | CalcHub</title>
    <meta name="description" content="ë¬´ë£Œ í‰ê· ê³„ì‚°ê¸°ë¡œ ì—¬ëŸ¬ ìˆ«ìì˜ í‰ê· ê°’ì„ ì¦‰ì‹œ ê³„ì‚°í•˜ì„¸ìš”. ë§Œì›, ì–µì› ë“± í•œêµ­ì–´ ë‹¨ìœ„ ìë™ ì¸ì‹. ì—‘ì…€ ë°ì´í„°, CSV íŒŒì¼ë„ ì§€ì›í•©ë‹ˆë‹¤.">
    <meta name="keywords" content="í‰ê· ê³„ì‚°ê¸°, í‰ê· ê°’ê³„ì‚°, ì‚°ìˆ í‰ê· , ìˆ«ìí‰ê· , ìë™ê³„ì‚°, ì˜¨ë¼ì¸ê³„ì‚°ê¸°, ë¬´ë£Œê³„ì‚°ê¸°, í•œêµ­ì–´ë‹¨ìœ„, ë§Œì›ê³„ì‚°, ì–µì›ê³„ì‚°">
    
    <!-- êµ¬ì¡°í™”ëœ ë°ì´í„° -->
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "í‰ê· ê³„ì‚°ê¸°",
      "description": "ë¬´ë£Œ í‰ê· ê³„ì‚°ê¸°ë¡œ ì—¬ëŸ¬ ìˆ«ìì˜ í‰ê· ê°’ì„ ì¦‰ì‹œ ê³„ì‚°í•˜ì„¸ìš”. ë§Œì›, ì–µì› ë“± í•œêµ­ì–´ ë‹¨ìœ„ ìë™ ì¸ì‹. ì—‘ì…€ ë°ì´í„°, CSV íŒŒì¼ë„ ì§€ì›í•©ë‹ˆë‹¤.",
      "url": "https://www.calcforkr.com/finance/average-calculator.html",
      "applicationCategory": "CalculatorApplication",
      "operatingSystem": "Web Browser",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "KRW"
      },
      "provider": {
        "@type": "Organization",
        "name": "CalcHub",
        "url": "https://www.calcforkr.com/"
      }
    }
    </script>
    
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="../css/common.css">
</head>
<body>
    <!-- ê³µí†µ í—¤ë” -->
    <header class="header">
        <div class="header-content">
            <a href="../index.html" class="logo">
                <div class="logo-icon">ğŸ§®</div>
                CalcHub
            </a>
            <nav class="nav-links">
                <a href="../index.html#calculators" class="nav-link">ê³„ì‚°ê¸°</a>
                <a href="../about.html" class="nav-link">ì†Œê°œ</a>
                <a href="../contact.html" class="nav-link">ë¬¸ì˜</a>
            </nav>
        </div>
    </header>

    <div class="container">
        <div class="calculator-card">
            <!-- ê³„ì‚°ê¸° í—¤ë” -->
            <div class="calculator-header-simple">
                <h1 class="calculator-title-simple">í‰ê·  ê³„ì‚°ê¸°</h1>
            </div>

            <!-- ê³„ì‚°ê¸° ë³¸ë¬¸ -->
            <div class="calculator-body">
                <!-- ì…ë ¥ ì„¹ì…˜ -->
                <div class="input-section">
                    <h2 class="section-title">ë°ì´í„° ì…ë ¥</h2>
                    <div class="input-group">
                        <textarea id="numbers" class="input-field" rows="4" placeholder="ì˜ˆ: 10ë§Œì›, 15ë§Œì›, 20ë§Œì› ë˜ëŠ” 100000, 150000, 200000"></textarea>
                    </div>
                    <button onclick="calculate()" class="btn btn-primary">ê³„ì‚°í•˜ê¸°</button>
                </div>

                <!-- ê²°ê³¼ ì„¹ì…˜ -->
                <div id="resultSection" class="result-section">
                    <div class="result-simple">
                        <div class="result-item-simple">
                            <div class="result-label-simple">ì°¾ì€ ìˆ«ì ê°œìˆ˜</div>
                            <div id="count" class="result-value-simple">-</div>
                        </div>
                        <div class="result-item-simple">
                            <div class="result-label-simple">ê³„ì‚° ê²°ê³¼ í‰ê· </div>
                            <div id="average" class="result-value-simple highlight">-</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        // ìˆ«ì íŒŒì‹± í•¨ìˆ˜ (í•œêµ­ì–´ ë‹¨ìœ„ ì§€ì›)
        function parseNumber(input) {
            if (!input || typeof input !== 'string') return 0;
            
            // ê¸°ë³¸ ì •ë¦¬
            input = input.replace(/[,\s]/g, '').toLowerCase();
            
            // í•œêµ­ì–´ ë‹¨ìœ„ ë³€í™˜
            const units = {
                'ë§Œ': 10000,
                'ì‹­ë§Œ': 100000,
                'ë°±ë§Œ': 1000000,
                'ì²œë§Œ': 10000000,
                'ì–µ': 100000000,
                'ì²œì–µ': 100000000000,
                'ì¡°': 1000000000000
            };
            
            for (let unit in units) {
                if (input.includes(unit)) {
                    const num = parseFloat(input.replace(unit, '')) || 1;
                    return num * units[unit];
                }
            }
            
            return parseFloat(input) || 0;
        }

        // í…ìŠ¤íŠ¸ì—ì„œ ìˆ«ì ì¶”ì¶œ
        function extractNumbers(text) {
            if (!text) return [];
            
            // ë‹¤ì–‘í•œ êµ¬ë¶„ìë¡œ ë¶„ë¦¬: ì‰¼í‘œ, ì¤„ë°”ê¿ˆ, ì„¸ë¯¸ì½œë¡ , ê³µë°±, íƒ­, íŒŒì´í”„
            const items = text.split(/[,\n;\s\t\|]+/);
            const numbers = [];
            
            for (let item of items) {
                item = item.trim();
                if (item) {
                    const num = parseNumber(item);
                    if (num && num > 0) {
                        numbers.push(num);
                    }
                }
            }
            
            return numbers;
        }

        // í‰ê·  ê³„ì‚° í•¨ìˆ˜
        function calculate() {
            const numbersInput = document.getElementById('numbers').value;
            
            if (!numbersInput.trim()) {
                alert('ìˆ«ìë“¤ì„ ì…ë ¥í•´ì£¼ì„¸ìš”');
                return;
            }

            const numbers = extractNumbers(numbersInput);
            
            if (numbers.length === 0) {
                alert('ì˜¬ë°”ë¥¸ ìˆ«ìë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”');
                return;
            }

            const sum = numbers.reduce((acc, num) => acc + num, 0);
            const average = sum / numbers.length;
            const count = numbers.length;

            // ì…ë ¥ëœ ìˆ«ìë“¤ì˜ ìµœëŒ€ ì†Œìˆ˜ì  ìë¦¿ìˆ˜ ì°¾ê¸°
            let maxDecimals = 0;
            for (let num of numbers) {
                const numStr = num.toString();
                if (numStr.includes('.')) {
                    const decimals = numStr.split('.')[1].length;
                    maxDecimals = Math.max(maxDecimals, decimals);
                }
            }

            // ê²°ê³¼ í‘œì‹œ
            document.getElementById('count').textContent = count + 'ê°œ';
            document.getElementById('average').textContent = average.toFixed(maxDecimals);
            
            document.getElementById('resultSection').classList.add('fade-in');
        }

        // ì—”í„°í‚¤ë¡œ ê³„ì‚° (Ctrl+Enter)
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Enter' && e.ctrlKey) {
                calculate();
            }
        });
    </script>
</body>
</html>