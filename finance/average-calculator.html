<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ìŠ¤ë§ˆíŠ¸ í‰ê·  ê³„ì‚°ê¸° - ì–´ë–¤ í˜•ì‹ì´ë“  ìë™ ì¸ì‹</title>
    <meta name="description" content="í…ìŠ¤íŠ¸ì—ì„œ ìˆ«ìë¥¼ ìë™ìœ¼ë¡œ ì¶”ì¶œí•´ì„œ í‰ê· ì„ ê³„ì‚°í•˜ëŠ” ìŠ¤ë§ˆíŠ¸ ê³„ì‚°ê¸°. CSV, ì—‘ì…€ ë°ì´í„°, í•œê¸€ ë‹¨ìœ„ê¹Œì§€ ëª¨ë‘ ì¸ì‹í•©ë‹ˆë‹¤.">
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Malgun Gothic', -apple-system, BlinkMacSystemFont, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1000px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            box-shadow: 0 25px 50px rgba(0,0,0,0.15);
            overflow: hidden;
            animation: slideUp 0.6s ease-out;
        }
        
        @keyframes slideUp {
            from { opacity: 0; transform: translateY(30px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 40px 30px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .header::before {
            content: '';
            position: absolute;
            top: -50%;
            left: -50%;
            width: 200%;
            height: 200%;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            animation: pulse 4s ease-in-out infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }
        
        .header h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            position: relative;
            z-index: 1;
        }
        
        .header p {
            font-size: 1.1rem;
            opacity: 0.9;
            position: relative;
            z-index: 1;
        }
        
        .content {
            padding: 40px 30px;
        }
        
        .input-section {
            background: #f8f9fa;
            border-radius: 15px;
            padding: 30px;
            margin-bottom: 30px;
            border: 2px solid #e9ecef;
            transition: all 0.3s ease;
        }
        
        .input-section:hover {
            border-color: #667eea;
            box-shadow: 0 5px 20px rgba(102, 126, 234, 0.1);
        }
        
        .input-label {
            font-size: 1.2rem;
            font-weight: 600;
            color: #333;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .input-label .icon {
            font-size: 1.5rem;
        }
        
        #dataInput {
            width: 100%;
            min-height: 200px;
            padding: 20px;
            border: 2px solid #e1e5e9;
            border-radius: 12px;
            font-size: 16px;
            font-family: 'Consolas', 'Monaco', monospace;
            resize: vertical;
            transition: all 0.3s ease;
            background: white;
            line-height: 1.6;
        }
        
        #dataInput:focus {
            outline: none;
            border-color: #667eea;
            box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
        }
        
        .examples {
            background: linear-gradient(135deg, #fff3e0 0%, #ffeaa7 100%);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            border-left: 4px solid #f39c12;
        }
        
        .examples h4 {
            color: #d68910;
            margin-bottom: 15px;
            font-size: 1.1rem;
        }
        
        .examples-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
        }
        
        .example-item {
            background: rgba(255,255,255,0.7);
            padding: 10px;
            border-radius: 8px;
            font-size: 0.9rem;
            line-height: 1.4;
        }
        
        .example-title {
            font-weight: bold;
            color: #d68910;
            margin-bottom: 5px;
        }
        
        .controls {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            justify-content: center;
            margin: 25px 0;
        }
        
        .btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
        }
        
        .btn:active {
            transform: translateY(0);
        }
        
        .btn-secondary {
            background: linear-gradient(135deg, #74b9ff 0%, #0984e3 100%);
        }
        
        .btn-danger {
            background: linear-gradient(135deg, #fd79a8 0%, #e84393 100%);
        }
        
        .parsing-preview {
            background: #e3f2fd;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
            border-left: 4px solid #2196f3;
            display: none;
        }
        
        .parsing-title {
            font-weight: bold;
            color: #1976d2;
            margin-bottom: 10px;
            font-size: 1.1rem;
        }
        
        .found-numbers {
            background: white;
            padding: 15px;
            border-radius: 8px;
            font-family: 'Consolas', 'Monaco', monospace;
            font-size: 14px;
            line-height: 1.5;
            border: 1px solid #bbdefb;
            max-height: 150px;
            overflow-y: auto;
        }
        
        .result-section {
            background: linear-gradient(135deg, #d4edda 0%, #c3e6cb 100%);
            border-radius: 15px;
            padding: 30px;
            margin-top: 30px;
            border: 2px solid #28a745;
            display: none;
            animation: fadeIn 0.5s ease-in;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .result-title {
            font-size: 1.5rem;
            font-weight: bold;
            color: #155724;
            margin-bottom: 20px;
            text-align: center;
        }
        
        .result-stats {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .stat-item {
            background: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .stat-label {
            font-size: 0.9rem;
            color: #666;
            margin-bottom: 5px;
        }
        
        .stat-value {
            font-size: 1.8rem;
            font-weight: bold;
            color: #28a745;
        }
        
        .average-highlight {
            background: linear-gradient(135deg, #28a745 0%, #20c997 100%);
            color: white;
            padding: 25px;
            border-radius: 15px;
            text-align: center;
            margin-top: 20px;
            box-shadow: 0 5px 20px rgba(40, 167, 69, 0.3);
        }
        
        .average-label {
            font-size: 1.1rem;
            opacity: 0.9;
            margin-bottom: 5px;
        }
        
        .average-value {
            font-size: 2.5rem;
            font-weight: bold;
        }
        
        .features {
            margin-top: 40px;
            text-align: center;
        }
        
        .features h3 {
            color: #333;
            margin-bottom: 20px;
            font-size: 1.5rem;
        }
        
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .feature-item {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 5px 15px rgba(0,0,0,0.1);
            transition: transform 0.3s ease;
        }
        
        .feature-item:hover {
            transform: translateY(-5px);
        }
        
        .feature-icon {
            font-size: 2.5rem;
            margin-bottom: 15px;
        }
        
        .feature-title {
            font-weight: bold;
            margin-bottom: 10px;
            color: #333;
        }
        
        .feature-desc {
            color: #666;
            font-size: 0.9rem;
            line-height: 1.5;
        }
        
        @media (max-width: 768px) {
            .container {
                margin: 10px;
                border-radius: 15px;
            }
            
            .header {
                padding: 30px 20px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .content {
                padding: 30px 20px;
            }
            
            .controls {
                flex-direction: column;
                align-items: center;
            }
            
            .btn {
                width: 100%;
                max-width: 300px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ“Š ìŠ¤ë§ˆíŠ¸ í‰ê·  ê³„ì‚°ê¸°</h1>
            <p>ì–´ë–¤ í˜•ì‹ìœ¼ë¡œ ì…ë ¥í•´ë„ ìë™ìœ¼ë¡œ ìˆ«ìë¥¼ ì°¾ì•„ì„œ í‰ê· ì„ ê³„ì‚°í•©ë‹ˆë‹¤</p>
        </div>
        
        <div class="content">
            <div class="input-section">
                <div class="input-label">
                    <span class="icon">ğŸ“</span>
                    ë°ì´í„° ì…ë ¥ (ììœ  í˜•ì‹)
                </div>
                
                <textarea id="dataInput" placeholder="ì—¬ê¸°ì— ìˆ«ìê°€ í¬í•¨ëœ í…ìŠ¤íŠ¸ë¥¼ ììœ ë¡­ê²Œ ì…ë ¥í•˜ì„¸ìš”...

ì˜ˆì‹œ:
ìƒí’ˆA: 1,250ì›, ìƒí’ˆB: 2,800ì›, ìƒí’ˆC: 950ì›
ì ìˆ˜: 85ì  90ì  78ì  92ì  88ì 
ê°€ê²©	ìˆ˜ëŸ‰	í•©ê³„
1200	5	6000
800	3	2400
1500	2	3000

ë˜ëŠ” CSV ë°ì´í„°ë¥¼ ë¶™ì—¬ë„£ìœ¼ì„¸ìš”:
ê¹€ì² ìˆ˜,85,90,78
ì´ì˜í¬,92,88,85
ë°•ë¯¼ìˆ˜,79,84,91

* ì‰¼í‘œ, ê³µë°±, íƒ­, ì¤„ë°”ê¿ˆ ë“± ì–´ë–¤ êµ¬ë¶„ìë“  ìë™ ì¸ì‹
* í•œê¸€ ë‹¨ìœ„(ì²œ, ë§Œ, ì–µ)ë„ ìë™ ë³€í™˜
* ì†Œìˆ˜ì  ìë¦¬ìˆ˜ëŠ” ì…ë ¥ ë°ì´í„°ì— ë§ì¶° ìë™ ì¡°ì •"></textarea>

                <div class="examples">
                    <h4>ğŸ’¡ ë‹¤ì–‘í•œ ì…ë ¥ ì˜ˆì‹œ</h4>
                    <div class="examples-grid">
                        <div class="example-item">
                            <div class="example-title">CSV/ì—‘ì…€ ë°ì´í„°</div>
                            ê¹€ì² ìˆ˜,85,90,78<br>
                            ì´ì˜í¬,92,88,85
                        </div>
                        <div class="example-item">
                            <div class="example-title">ê°€ê²© ì •ë³´</div>
                            ìƒí’ˆA: 1,250ì›<br>
                            ìƒí’ˆB: 2ì²œì›<br>
                            ìƒí’ˆC: 1ë§Œ5ì²œì›
                        </div>
                        <div class="example-item">
                            <div class="example-title">ì„±ì  ë°ì´í„°</div>
                            ìˆ˜í•™: 85ì <br>
                            ì˜ì–´: 90ì <br>
                            ê³¼í•™: 78ì 
                        </div>
                        <div class="example-item">
                            <div class="example-title">ì¸¡ì •ê°’</div>
                            í‚¤: 175.5cm<br>
                            ëª¸ë¬´ê²Œ: 70.2kg<br>
                            ì²´ì§€ë°©: 15.8%
                        </div>
                    </div>
                </div>
            </div>

            <div class="parsing-preview" id="parsingPreview">
                <div class="parsing-title">ğŸ” ì¸ì‹ëœ ìˆ«ìë“¤</div>
                <div class="found-numbers" id="foundNumbers"></div>
            </div>

            <div class="controls">
                <button class="btn" onclick="calculateAverage()">
                    ğŸ“Š í‰ê·  ê³„ì‚°í•˜ê¸°
                </button>
                <button class="btn btn-secondary" onclick="showParsingPreview()">
                    ğŸ” ìˆ«ì ì¸ì‹ ë¯¸ë¦¬ë³´ê¸°
                </button>
                <button class="btn btn-danger" onclick="clearAll()">
                    ğŸ—‘ï¸ ì´ˆê¸°í™”
                </button>
            </div>

            <div class="result-section" id="resultSection">
                <div class="result-title">ğŸ“ˆ ê³„ì‚° ê²°ê³¼</div>
                <div class="result-stats" id="resultStats"></div>
                <div class="average-highlight">
                    <div class="average-label">í‰ê· ê°’</div>
                    <div class="average-value" id="averageValue">0</div>
                </div>
            </div>

            <div class="features">
                <h3>ğŸŒŸ ìŠ¤ë§ˆíŠ¸ ê³„ì‚°ê¸°ì˜ íŠ¹ë³„í•œ ê¸°ëŠ¥</h3>
                <div class="features-grid">
                    <div class="feature-item">
                        <div class="feature-icon">ğŸ§ </div>
                        <div class="feature-title">ì§€ëŠ¥í˜• ìˆ«ì ì¸ì‹</div>
                        <div class="feature-desc">í•œê¸€ ë‹¨ìœ„(ì²œ, ë§Œ, ì–µ), ì‰¼í‘œ, ì†Œìˆ˜ì  ë“± ì–´ë–¤ í˜•ì‹ì´ë“  ìë™ ì¸ì‹</div>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">ğŸ“‹</div>
                        <div class="feature-title">CSV/ì—‘ì…€ ë°ì´í„° ì§€ì›</div>
                        <div class="feature-desc">ìŠ¤í”„ë ˆë“œì‹œíŠ¸ì—ì„œ ë³µì‚¬í•œ ë°ì´í„°ë¥¼ ë°”ë¡œ ë¶™ì—¬ë„£ê¸° ê°€ëŠ¥</div>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">ğŸ¯</div>
                        <div class="feature-title">ì •ë°€ë„ ìë™ ì¡°ì •</div>
                        <div class="feature-desc">ì…ë ¥ ë°ì´í„°ì˜ ìµœëŒ€ ì†Œìˆ˜ì  ìë¦¬ìˆ˜ì— ë§ì¶° ê²°ê³¼ í‘œì‹œ</div>
                    </div>
                    <div class="feature-item">
                        <div class="feature-icon">ğŸ“±</div>
                        <div class="feature-title">ëª¨ë°”ì¼ ìµœì í™”</div>
                        <div class="feature-desc">ìŠ¤ë§ˆíŠ¸í°, íƒœë¸”ë¦¿ì—ì„œë„ ì™„ë²½í•˜ê²Œ ì‘ë™</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script>
        class SmartNumberParser {
            constructor() {
                // í•œê¸€ ìˆ«ì ë‹¨ìœ„ ë§¤í•‘
                this.koreanUnits = {
                    'ì²œ': 1000,
                    'ë§Œ': 10000,
                    'ì–µ': 100000000,
                    'ì¡°': 1000000000000
                };
            }

            // í…ìŠ¤íŠ¸ì—ì„œ ëª¨ë“  ìˆ«ì ì¶”ì¶œ
            extractNumbers(text) {
                if (!text || typeof text !== 'string') return { numbers: [], maxDecimals: 0 };

                const numbers = [];
                let maxDecimals = 0;

                // 1. í•œê¸€ ë‹¨ìœ„ê°€ í¬í•¨ëœ ìˆ«ì ì²˜ë¦¬
                const koreanMatches = this.extractKoreanNumbers(text);
                numbers.push(...koreanMatches.numbers);
                maxDecimals = Math.max(maxDecimals, koreanMatches.maxDecimals);

                // 2. ì¼ë°˜ ìˆ«ì íŒ¨í„´ (ì‰¼í‘œ, ì†Œìˆ˜ì  í¬í•¨)
                let remainingText = text;
                
                // í•œê¸€ ë‹¨ìœ„ ìˆ«ìëŠ” ì œê±°í•´ì„œ ì¤‘ë³µ ë°©ì§€
                for (let unit of Object.keys(this.koreanUnits)) {
                    remainingText = remainingText.replace(new RegExp(`\\d+(?:\\.\\d+)?\\s*${unit}`, 'g'), '');
                }

                const numberPattern = /\d{1,3}(?:,\d{3})*(?:\.\d+)?|\d+(?:\.\d+)?/g;
                const matches = remainingText.match(numberPattern) || [];

                for (let match of matches) {
                    const cleanNumber = match.replace(/,/g, '');
                    const num = parseFloat(cleanNumber);
                    
                    if (!isNaN(num) && num !== 0) {
                        numbers.push(num);
                        
                        // ì†Œìˆ˜ì  ìë¦¬ìˆ˜ ê³„ì‚°
                        if (cleanNumber.includes('.')) {
                            const decimals = cleanNumber.split('.')[1].length;
                            maxDecimals = Math.max(maxDecimals, decimals);
                        }
                    }
                }

                return { numbers, maxDecimals };
            }

            // í•œê¸€ ë‹¨ìœ„ ìˆ«ì ì¶”ì¶œ
            extractKoreanNumbers(text) {
                const numbers = [];
                let maxDecimals = 0;

                for (let [unit, multiplier] of Object.entries(this.koreanUnits)) {
                    // ìˆ«ì + í•œê¸€ë‹¨ìœ„ íŒ¨í„´ ë§¤ì¹­
                    const pattern = new RegExp(`(\\d+(?:\\.\\d+)?)\\s*${unit}`, 'g');
                    let match;

                    while ((match = pattern.exec(text)) !== null) {
                        const baseNumber = parseFloat(match[1]);
                        if (!isNaN(baseNumber)) {
                            const result = baseNumber * multiplier;
                            numbers.push(result);

                            // ì†Œìˆ˜ì  ìë¦¬ìˆ˜ ê³„ì‚°
                            if (match[1].includes('.')) {
                                const decimals = match[1].split('.')[1].length;
                                maxDecimals = Math.max(maxDecimals, decimals);
                            }
                        }
                    }
                }

                return { numbers, maxDecimals };
            }

            // í‰ê·  ê³„ì‚°
            calculateAverage(numbers) {
                if (!Array.isArray(numbers) || numbers.length === 0) {
                    return null;
                }

                const sum = numbers.reduce((acc, num) => acc + num, 0);
                return sum / numbers.length;
            }

            // í†µê³„ ê³„ì‚°
            calculateStats(numbers) {
                if (!Array.isArray(numbers) || numbers.length === 0) {
                    return null;
                }

                const sorted = [...numbers].sort((a, b) => a - b);
                const sum = numbers.reduce((acc, num) => acc + num, 0);
                const avg = sum / numbers.length;

                // ì¤‘ì•™ê°’ ê³„ì‚°
                let median;
                const mid = Math.floor(sorted.length / 2);
                if (sorted.length % 2 === 0) {
                    median = (sorted[mid - 1] + sorted[mid]) / 2;
                } else {
                    median = sorted[mid];
                }

                // í‘œì¤€í¸ì°¨ ê³„ì‚°
                const variance = numbers.reduce((acc, num) => acc + Math.pow(num - avg, 2), 0) / numbers.length;
                const stdDev = Math.sqrt(variance);

                return {
                    count: numbers.length,
                    sum: sum,
                    average: avg,
                    median: median,
                    min: Math.min(...numbers),
                    max: Math.max(...numbers),
                    range: Math.max(...numbers) - Math.min(...numbers),
                    standardDeviation: stdDev
                };
            }
        }

        // ì „ì—­ íŒŒì„œ ì¸ìŠ¤í„´ìŠ¤
        const parser = new SmartNumberParser();

        // ìˆ«ì ì¸ì‹ ë¯¸ë¦¬ë³´ê¸°
        function showParsingPreview() {
            const text = document.getElementById('dataInput').value;
            const { numbers, maxDecimals } = parser.extractNumbers(text);
            
            const preview = document.getElementById('parsingPreview');
            const foundNumbers = document.getElementById('foundNumbers');
            
            if (numbers.length === 0) {
                foundNumbers.innerHTML = '<span style="color: #dc3545;">ìˆ«ìë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. ë°ì´í„°ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.</span>';
            } else {
                const numbersDisplay = numbers.map((num, index) => 
                    `${index + 1}. ${num.toLocaleString('ko-KR', {
                        minimumFractionDigits: maxDecimals,
                        maximumFractionDigits: maxDecimals
                    })}`
                ).join('\n');
                
                foundNumbers.innerHTML = `
                    <strong>ì°¾ì€ ìˆ«ì ê°œìˆ˜:</strong> ${numbers.length}ê°œ<br>
                    <strong>ìµœëŒ€ ì†Œìˆ˜ì  ìë¦¬:</strong> ${maxDecimals}ìë¦¬<br><br>
                    <strong>ì¸ì‹ëœ ìˆ«ìë“¤:</strong><br>
                    ${numbersDisplay.replace(/\n/g, '<br>')}
                `;
            }
            
            preview.style.display = 'block';
            preview.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        // í‰ê·  ê³„ì‚°
        function calculateAverage() {
            const text = document.getElementById('dataInput').value;
            
            if (!text.trim()) {
                alert('ë°ì´í„°ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }

            const { numbers, maxDecimals } = parser.extractNumbers(text);
            
            if (numbers.length === 0) {
                alert('ì…ë ¥ëœ í…ìŠ¤íŠ¸ì—ì„œ ìˆ«ìë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.\n\nì˜ˆì‹œ:\n- 85, 90, 78, 92\n- ìƒí’ˆA: 1,250ì›\n- ì ìˆ˜: 85ì ');
                return;
            }

            const stats = parser.calculateStats(numbers);
            
            // ê²°ê³¼ í‘œì‹œ
            displayResults(stats, maxDecimals);
            
            // ë¯¸ë¦¬ë³´ê¸°ë„ í•¨ê»˜ í‘œì‹œ
            showParsingPreview();
        }

        // ê²°ê³¼ í‘œì‹œ
        function displayResults(stats, maxDecimals) {
            const resultSection = document.getElementById('resultSection');
            const resultStats = document.getElementById('resultStats');
            const averageValue = document.getElementById('averageValue');

            // ì†Œìˆ˜ì  ìë¦¬ìˆ˜ ê²°ì • (ìµœì†Œ 1ìë¦¬, ìµœëŒ€ ì…ë ¥ ë°ì´í„°ì˜ ìµœëŒ€ ìë¦¬ìˆ˜)
            const displayDecimals = Math.max(1, maxDecimals);

            // í†µê³„ ì •ë³´ í‘œì‹œ
            resultStats.innerHTML = `
                <div class="stat-item">
                    <div class="stat-label">ë°ì´í„° ê°œìˆ˜</div>
                    <div class="stat-value">${stats.count.toLocaleString()}ê°œ</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">í•©ê³„</div>
                    <div class="stat-value">${stats.sum.toLocaleString('ko-KR', {
                        minimumFractionDigits: displayDecimals,
                        maximumFractionDigits: displayDecimals
                    })}</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">ìµœì†Ÿê°’</div>
                    <div class="stat-value">${stats.min.toLocaleString('ko-KR', {
                        minimumFractionDigits: displayDecimals,
                        maximumFractionDigits: displayDecimals
                    })}</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">ìµœëŒ“ê°’</div>
                    <div class="stat-value">${stats.max.toLocaleString('ko-KR', {
                        minimumFractionDigits: displayDecimals,
                        maximumFractionDigits: displayDecimals
                    })}</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">ì¤‘ì•™ê°’</div>
                    <div class="stat-value">${stats.median.toLocaleString('ko-KR', {
                        minimumFractionDigits: displayDecimals,
                        maximumFractionDigits: displayDecimals
                    })}</div>
                </div>
                <div class="stat-item">
                    <div class="stat-label">í‘œì¤€í¸ì°¨</div>
                    <div class="stat-value">${stats.standardDeviation.toLocaleString('ko-KR', {
                        minimumFractionDigits: displayDecimals,
                        maximumFractionDigits: displayDecimals
                    })}</div>
                </div>
            `;

            // í‰ê· ê°’ í‘œì‹œ
            averageValue.textContent = stats.average.toLocaleString('ko-KR', {
                minimumFractionDigits: displayDecimals,
                maximumFractionDigits: displayDecimals
            });

            resultSection.style.display = 'block';
            resultSection.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        // ì´ˆê¸°í™”
        function clearAll() {
            document.getElementById('dataInput').value = '';
            document.getElementById('resultSection').style.display = 'none';
            document.getElementById('parsingPreview').style.display = 'none';
            document.getElementById('dataInput').focus();
        }

        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì˜ˆì‹œ ë°ì´í„°
        window.addEventListener('load', function() {
            const exampleData = `0.2869 0.2819 0.2809 0.2822 0.2825 0.2827 0.2828 0.2836 0.2824 0.2818 0.2823 0.2816 0.2826 0.2822 0.2823 0.2821 0.282 0.2814 0.2826 0.2815 0.2772 0.2762 0.277 0.2799 0.2781 0.2761 0.2744 0.273 0.2726 0.2745 0.2751 0.2743 0.2736 0.2733 0.2742 0.2807 0.2809 0.281 0.2818 0.2816 0.2798 0.2819 0.2859 0.2821 0.2806 0.2824 0.2829 0.2819 0.2734 0.2724 0.2735 0.2726 0.2745 0.2764 0.2729 0.2725 0.2745 0.2737 0.2722 0.2728 0.2738 0.2754 0.2746 0.2753 0.2766 0.275 0.2748 0.277 0.2757 0.2773 0.2827 0.2823 0.2821 0.2814 0.2811 0.2815 0.2807 0.2827 0.2765 0.2733 0.2764 0.2765 0.2752 0.2786 0.2753 0.2762 0.2778 0.2831 0.2815 0.2808 0.2807 0.2821 0.2835 0.2835 0.283 0.2823 0.2824 0.2817`;

            document.getElementById('dataInput').value = exampleData;
            
            // 2ì´ˆ í›„ ìë™ ê³„ì‚° (ì‚¬ìš©ìê°€ ê¸°ëŠ¥ì„ ì´í•´í•  ìˆ˜ ìˆë„ë¡)
            setTimeout(() => {
                if (document.getElementById('dataInput').value === exampleData) {
                    calculateAverage();
                }
            }, 2000);
        });

        // ì—”í„°í‚¤ ì´ë²¤íŠ¸ (Ctrl+Enterë¡œ ê³„ì‚°)
        document.getElementById('dataInput').addEventListener('keydown', function(e) {
            if (e.ctrlKey && e.key === 'Enter') {
                calculateAverage();
            }
        });

        // ì‹¤ì‹œê°„ ì…ë ¥ ê°ì§€ (ì˜µì…˜)
        let inputTimeout;
        document.getElementById('dataInput').addEventListener('input', function() {
            clearTimeout(inputTimeout);
            inputTimeout = setTimeout(() => {
                const text = this.value;
                if (text.length > 10) { // ìµœì†Œí•œì˜ ë°ì´í„°ê°€ ìˆì„ ë•Œë§Œ
                    const { numbers } = parser.extractNumbers(text);
                    if (numbers.length > 0) {
                        // ì…ë ¥ë€ í…Œë‘ë¦¬ ìƒ‰ìƒìœ¼ë¡œ í”¼ë“œë°±
                        this.style.borderColor = '#28a745';
                    } else {
                        this.style.borderColor = '#e1e5e9';
                    }
                }
            }, 500);
        });
    </script>
</body>
</html>
