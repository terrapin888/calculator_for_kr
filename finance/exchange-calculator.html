<!DOCTYPE html>
<html lang="ko">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>í™˜ìœ¨ ê³„ì‚°ê¸° - ì‹¤ì‹œê°„ í™˜ìœ¨ ìë™ ê³„ì‚° | ìŠ¤ë§ˆíŠ¸ íŒŒì‹±</title>
   <meta name="description" content="í™˜ìœ¨ ê³„ì‚°ê¸°ë¡œ ì‹¤ì‹œê°„ í™˜ìœ¨ì„ í™•ì¸í•˜ê³  í™˜ì „ ê¸ˆì•¡ì„ ì‰½ê²Œ ê³„ì‚°í•˜ì„¸ìš”. ì£¼ìš” í†µí™”ì˜ í™˜ìœ¨ ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.">
  
      <!-- ì´ 3ì¤„ ì¶”ê°€ -->
   <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
   <link rel="stylesheet" href="../../css/common.css">
   <link rel="stylesheet" href="../../css/calculator.css">
 
   <style>
       * {
           margin: 0;
           padding: 0;
           box-sizing: border-box;
       }
       
       body {
           font-family: 'Malgun Gothic', -apple-system, BlinkMacSystemFont, sans-serif;
           background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
           min-height: 100vh;
           padding: 20px;
       }
       
       .container {
           max-width: 1200px;
           margin: 0 auto;
           background: white;
           border-radius: 20px;
           box-shadow: 0 25px 50px rgba(0,0,0,0.15);
           overflow: hidden;
           animation: slideUp 0.6s ease-out;
       }
       
       @keyframes slideUp {
           from { opacity: 0; transform: translateY(30px); }
           to { opacity: 1; transform: translateY(0); }
       }
       
       .header {
           background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
           color: white;
           padding: 40px 30px;
           text-align: center;
           position: relative;
           overflow: hidden;
       }
       
       .header::before {
           content: '';
           position: absolute;
           top: -50%;
           left: -50%;
           width: 200%;
           height: 200%;
           background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
           animation: pulse 4s ease-in-out infinite;
       }
       
       @keyframes pulse {
           0%, 100% { transform: scale(1); }
           50% { transform: scale(1.1); }
       }
       
       .header h1 {
           font-size: 2.5rem;
           margin-bottom: 10px;
           position: relative;
           z-index: 1;
       }
       
       .header p {
           font-size: 1.1rem;
           opacity: 0.9;
           position: relative;
           z-index: 1;
       }
       
       .content {
           padding: 40px 30px;
       }
       
       .calculator-tabs {
           display: flex;
           background: #f8f9fa;
           border-radius: 15px;
           padding: 5px;
           margin-bottom: 30px;
           gap: 5px;
       }
       
       .tab-button {
           flex: 1;
           padding: 15px 20px;
           border: none;
           border-radius: 10px;
           background: transparent;
           cursor: pointer;
           transition: all 0.3s ease;
           font-weight: 600;
           font-size: 14px;
       }
       
       .tab-button.active {
           background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
           color: white;
       }
       
       .tab-content {
           display: none;
       }
       
       .tab-content.active {
           display: block;
       }
       
       .input-section {
           background: #f8f9fa;
           border-radius: 15px;
           padding: 30px;
           margin-bottom: 30px;
           border: 2px solid #e9ecef;
       }
       
       .input-grid {
           display: grid;
           grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
           gap: 25px;
       }
       
       .input-group {
           background: white;
           border-radius: 12px;
           padding: 20px;
           box-shadow: 0 2px 10px rgba(0,0,0,0.05);
       }
       
       .input-label {
           font-size: 1.1rem;
           font-weight: 600;
           color: #333;
           margin-bottom: 10px;
           display: flex;
           align-items: center;
           gap: 8px;
       }
       
       input[type="text"], input[type="number"], select {
           width: 100%;
           padding: 15px;
           border: 2px solid #e1e5e9;
           border-radius: 8px;
           font-size: 16px;
           transition: all 0.3s ease;
           background: #fafbfc;
       }
       
       input:focus, select:focus {
           outline: none;
           border-color: #667eea;
           background: white;
           box-shadow: 0 0 0 3px rgba(102, 126, 234, 0.1);
       }
       
       .parsed-result {
           margin-top: 10px;
           padding: 10px;
           background: #e3f2fd;
           border-radius: 6px;
           font-size: 14px;
           color: #1976d2;
       }
       
       .controls {
           display: flex;
           gap: 15px;
           flex-wrap: wrap;
           justify-content: center;
           margin: 25px 0;
       }
       
       .btn {
           background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
           color: white;
           border: none;
           padding: 15px 30px;
           border-radius: 25px;
           font-size: 16px;
           font-weight: 600;
           cursor: pointer;
           transition: all 0.3s ease;
       }
       
       .btn:hover {
           transform: translateY(-2px);
           box-shadow: 0 8px 25px rgba(102, 126, 234, 0.3);
       }
       
       .btn-secondary {
           background: linear-gradient(135deg, #74b9ff 0%, #0984e3 100%);
       }
       
       .btn-danger {
           background: linear-gradient(135deg, #fd79a8 0%, #e84393 100%);
       }
       
       .result-section {
           background: linear-gradient(135deg, #e8f5e8 0%, #c8e6c9 100%);
           border-radius: 15px;
           padding: 30px;
           margin-top: 30px;
           border: 2px solid #4caf50;
           display: none;
           animation: fadeIn 0.5s ease-in;
       }
       
       @keyframes fadeIn {
           from { opacity: 0; transform: translateY(20px); }
           to { opacity: 1; transform: translateY(0); }
       }
       
       .result-title {
           font-size: 1.5rem;
           font-weight: bold;
           color: #2e7d32;
           margin-bottom: 25px;
           text-align: center;
       }
       
       .exchange-display {
           background: white;
           border-radius: 15px;
           padding: 30px;
           text-align: center;
           margin-bottom: 25px;
           box-shadow: 0 5px 20px rgba(0,0,0,0.1);
       }
       
       .exchange-value {
           font-size: 3rem;
           font-weight: bold;
           color: #4caf50;
           margin-bottom: 10px;
           font-family: 'Courier New', monospace;
       }
       
       .exchange-description {
           font-size: 1.2rem;
           color: #666;
       }
       
       .result-grid {
           display: grid;
           grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
           gap: 20px;
       }
       
       .result-item {
           background: white;
           padding: 20px;
           border-radius: 12px;
           text-align: center;
           box-shadow: 0 3px 15px rgba(0,0,0,0.1);
       }
       
       .result-label {
           font-size: 0.9rem;
           color: #666;
           margin-bottom: 8px;
       }
       
       .result-value {
           font-size: 1.3rem;
           font-weight: bold;
           color: #4caf50;
       }
       
       .currency-grid {
           display: grid;
           grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
           gap: 10px;
           margin-top: 20px;
       }
       
       .currency-btn {
           padding: 12px 15px;
           border: 2px solid #e9ecef;
           border-radius: 20px;
           background: white;
           cursor: pointer;
           transition: all 0.3s ease;
           text-align: center;
           font-weight: 600;
           font-size: 13px;
       }
       
       .currency-btn:hover {
           border-color: #667eea;
           background: rgba(102, 126, 234, 0.1);
       }
       
       .rate-table {
           background: white;
           border-radius: 12px;
           padding: 20px;
           margin-top: 20px;
           box-shadow: 0 3px 15px rgba(0,0,0,0.1);
       }
       
       .rate-title {
           font-size: 1.1rem;
           font-weight: bold;
           color: #333;
           margin-bottom: 15px;
           text-align: center;
       }
       
       .rate-list {
           display: grid;
           grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
           gap: 15px;
       }
       
       .rate-item {
           display: flex;
           justify-content: space-between;
           align-items: center;
           padding: 12px 15px;
           background: #f8f9fa;
           border-radius: 8px;
           border: 1px solid #e9ecef;
       }
       
       .rate-currency {
           font-weight: 600;
           color: #333;
       }
       
       .rate-value {
           font-weight: bold;
           color: #667eea;
           font-family: 'Courier New', monospace;
       }
       
       .currency-flag {
           font-size: 1.2rem;
           margin-right: 8px;
       }
       
       @media (max-width: 768px) {
           .container {
               margin: 10px;
           }
           
           .header h1 {
               font-size: 2rem;
           }
           
           .calculator-tabs {
               flex-direction: column;
           }
           
           .input-grid {
               grid-template-columns: 1fr;
           }
           
           .controls {
               flex-direction: column;
           }
           
           .btn {
               width: 100%;
           }
           
           .exchange-value {
               font-size: 2.5rem;
           }
       }
   </style>
</head>
<body>
      <!-- ì´ í—¤ë” ë¶€ë¶„ ì¶”ê°€ -->
   <header class="header">
       <div class="header-content">
           <a href="../../index.html" class="logo">
               <div class="logo-icon">ğŸ§®</div>
               CalcHub
           </a>
           <nav class="nav-links">
               <a href="../../index.html" class="nav-link">í™ˆ</a>
               <a href="../finance/" class="nav-link">ğŸ’¼ ê¸ˆìœµ</a>
           </nav>
       </div>
   </header>
   <div class="container">
       <div class="header">
           <h1>ğŸ’± í™˜ìœ¨ ê³„ì‚°ê¸°</h1>
           <p>ì‹¤ì‹œê°„ í™˜ìœ¨ ì •ë³´ì™€ í™˜ì „ ê³„ì‚°ì„ ì œê³µí•©ë‹ˆë‹¤</p>
       </div>
       
       <div class="content">
           <div class="calculator-tabs">
               <button class="tab-button active" onclick="switchTab('convert')">í™˜ì „ ê³„ì‚°</button>
               <button class="tab-button" onclick="switchTab('rates')">í™˜ìœ¨ ì •ë³´</button>
               <button class="tab-button" onclick="switchTab('history')">í™˜ìœ¨ ë¹„êµ</button>
           </div>
           
           <!-- í™˜ì „ ê³„ì‚° -->
           <div id="convert" class="tab-content active">
               <div class="input-section">
                   <div class="input-grid">
                       <div class="input-group">
                           <div class="input-label">
                               <span>ğŸ’°</span>
                               ë³€í™˜í•  ê¸ˆì•¡
                           </div>
                           <input type="number" id="convert-amount" placeholder="ê¸ˆì•¡ ì…ë ¥..." oninput="smartParseConvert()" step="0.01">
                           <div class="parsed-result" id="convertAmountParsed">ê¸ˆì•¡ì„ ì…ë ¥í•´ì£¼ì„¸ìš”</div>
                       </div>
                       
                       <div class="input-group">
                           <div class="input-label">
                               <span>ğŸŒ</span>
                               ê¸°ì¤€ í†µí™”
                           </div>
                           <select id="from-currency" onchange="smartParseConvert()">
                               <option value="KRW">ğŸ‡°ğŸ‡· í•œêµ­ ì› (KRW)</option>
                               <option value="USD">ğŸ‡ºğŸ‡¸ ë¯¸êµ­ ë‹¬ëŸ¬ (USD)</option>
                               <option value="EUR">ğŸ‡ªğŸ‡º ìœ ë¡œ (EUR)</option>
                               <option value="JPY">ğŸ‡¯ğŸ‡µ ì¼ë³¸ ì—” (JPY)</option>
                               <option value="GBP">ğŸ‡¬ğŸ‡§ ì˜êµ­ íŒŒìš´ë“œ (GBP)</option>
                               <option value="CNY">ğŸ‡¨ğŸ‡³ ì¤‘êµ­ ìœ„ì•ˆ (CNY)</option>
                               <option value="CAD">ğŸ‡¨ğŸ‡¦ ìºë‚˜ë‹¤ ë‹¬ëŸ¬ (CAD)</option>
                               <option value="AUD">ğŸ‡¦ğŸ‡º í˜¸ì£¼ ë‹¬ëŸ¬ (AUD)</option>
                           </select>
                           <div class="parsed-result" id="fromCurrencyParsed">í•œêµ­ ì›ì´ ì„ íƒë˜ì—ˆìŠµë‹ˆë‹¤</div>
                       </div>
                       
                       <div class="input-group">
                           <div class="input-label">
                               <span>ğŸ¯</span>
                               ëª©í‘œ í†µí™”
                           </div>
                           <select id="to-currency" onchange="smartParseConvert()">
                               <option value="USD">ğŸ‡ºğŸ‡¸ ë¯¸êµ­ ë‹¬ëŸ¬ (USD)</option>
                               <option value="EUR">ğŸ‡ªğŸ‡º ìœ ë¡œ (EUR)</option>
                               <option value="JPY">ğŸ‡¯ğŸ‡µ ì¼ë³¸ ì—” (JPY)</option>
                               <option value="GBP">ğŸ‡¬ğŸ‡§ ì˜êµ­ íŒŒìš´ë“œ (GBP)</option>
                               <option value="CNY">ğŸ‡¨ğŸ‡³ ì¤‘êµ­ ìœ„ì•ˆ (CNY)</option>
                               <option value="KRW">ğŸ‡°ğŸ‡· í•œêµ­ ì› (KRW)</option>
                               <option value="CAD">ğŸ‡¨ğŸ‡¦ ìºë‚˜ë‹¤ ë‹¬ëŸ¬ (CAD)</option>
                               <option value="AUD">ğŸ‡¦ğŸ‡º í˜¸ì£¼ ë‹¬ëŸ¬ (AUD)</option>
                           </select>
                           <div class="parsed-result" id="toCurrencyParsed">ë¯¸êµ­ ë‹¬ëŸ¬ê°€ ì„ íƒë˜ì—ˆìŠµë‹ˆë‹¤</div>
                       </div>
                   </div>
                   
                   <div style="background: white; border-radius: 12px; padding: 20px; margin-top: 20px; box-shadow: 0 3px 15px rgba(0,0,0,0.1);">
                       <div style="font-size: 1.1rem; font-weight: bold; color: #333; margin-bottom: 15px; text-align: center;">
                           ğŸ¯ ë¹ ë¥¸ í†µí™” ì„ íƒ
                       </div>
                       <div class="currency-grid">
                           <button class="currency-btn" onclick="setFromCurrency('USD')">ğŸ‡ºğŸ‡¸ USD</button>
                           <button class="currency-btn" onclick="setFromCurrency('EUR')">ğŸ‡ªğŸ‡º EUR</button>
                           <button class="currency-btn" onclick="setFromCurrency('JPY')">ğŸ‡¯ğŸ‡µ JPY</button>
                           <button class="currency-btn" onclick="setFromCurrency('GBP')">ğŸ‡¬ğŸ‡§ GBP</button>
                           <button class="currency-btn" onclick="setFromCurrency('CNY')">ğŸ‡¨ğŸ‡³ CNY</button>
                           <button class="currency-btn" onclick="setFromCurrency('KRW')">ğŸ‡°ğŸ‡· KRW</button>
                       </div>
                   </div>
               </div>
               
               <div class="controls">
                   <button class="btn" onclick="calculateExchange()">ğŸ’± í™˜ìœ¨ ê³„ì‚°</button>
                   <button class="btn btn-secondary" onclick="swapCurrencies()">ğŸ”„ í†µí™” ë°”ê¾¸ê¸°</button>
                   <button class="btn btn-secondary" onclick="showConvertExample()">ğŸ“ ì˜ˆì‹œ</button>
                   <button class="btn btn-danger" onclick="clearConvert()">ğŸ—‘ï¸ ì´ˆê¸°í™”</button>
               </div>
               
               <div class="result-section" id="convertResult"></div>
           </div>
           
           <!-- í™˜ìœ¨ ì •ë³´ -->
           <div id="rates" class="tab-content">
               <div class="input-section">
                   <div class="input-group">
                       <div class="input-label">
                           <span>ğŸŒ</span>
                           ê¸°ì¤€ í†µí™”
                       </div>
                       <select id="base-currency" onchange="updateRates()">
                           <option value="KRW">ğŸ‡°ğŸ‡· í•œêµ­ ì› (KRW)</option>
                           <option value="USD">ğŸ‡ºğŸ‡¸ ë¯¸êµ­ ë‹¬ëŸ¬ (USD)</option>
                           <option value="EUR">ğŸ‡ªğŸ‡º ìœ ë¡œ (EUR)</option>
                           <option value="JPY">ğŸ‡¯ğŸ‡µ ì¼ë³¸ ì—” (JPY)</option>
                           <option value="GBP">ğŸ‡¬ğŸ‡§ ì˜êµ­ íŒŒìš´ë“œ (GBP)</option>
                           <option value="CNY">ğŸ‡¨ğŸ‡³ ì¤‘êµ­ ìœ„ì•ˆ (CNY)</option>
                       </select>
                   </div>
               </div>
               
               <div class="controls">
                   <button class="btn" onclick="updateRates()">ğŸ’± í™˜ìœ¨ ì •ë³´ ì¡°íšŒ</button>
                   <button class="btn btn-secondary" onclick="showRatesExample()">ğŸ“ ì˜ˆì‹œ</button>
               </div>
               
               <div class="rate-table">
                   <div class="rate-title">ğŸ’¹ ì£¼ìš” í†µí™” í™˜ìœ¨ (ì˜ˆì‹œ)</div>
                   <div class="rate-list" id="ratesList">
                       <div class="rate-item">
                           <span class="rate-currency"><span class="currency-flag">ğŸ‡ºğŸ‡¸</span>USD</span>
                           <span class="rate-value">1,330.50</span>
                       </div>
                       <div class="rate-item">
                           <span class="rate-currency"><span class="currency-flag">ğŸ‡ªğŸ‡º</span>EUR</span>
                           <span class="rate-value">1,445.20</span>
                       </div>
                       <div class="rate-item">
                           <span class="rate-currency"><span class="currency-flag">ğŸ‡¯ğŸ‡µ</span>JPY</span>
                           <span class="rate-value">9.15</span>
                       </div>
                       <div class="rate-item">
                           <span class="rate-currency"><span class="currency-flag">ğŸ‡¬ğŸ‡§</span>GBP</span>
                           <span class="rate-value">1,685.75</span>
                       </div>
                       <div class="rate-item">
                           <span class="rate-currency"><span class="currency-flag">ğŸ‡¨ğŸ‡³</span>CNY</span>
                           <span class="rate-value">183.42</span>
                       </div>
                       <div class="rate-item">
                           <span class="rate-currency"><span class="currency-flag">ğŸ‡¨ğŸ‡¦</span>CAD</span>
                           <span class="rate-value">985.30</span>
                       </div>
                   </div>
               </div>
           </div>
           
           <!-- í™˜ìœ¨ ë¹„êµ -->
           <div id="history" class="tab-content">
               <div class="input-section">
                   <div class="input-grid">
                       <div class="input-group">
                           <div class="input-label">
                               <span>ğŸ’°</span>
                               ë¹„êµí•  ê¸ˆì•¡
                           </div>
                           <input type="number" id="compare-amount" placeholder="ê¸ˆì•¡ ì…ë ¥..." oninput="smartParseHistory()" step="0.01">
                           <div class="parsed-result" id="compareAmountParsed">ê¸ˆì•¡ì„ ì…ë ¥í•´ì£¼ì„¸ìš”</div>
                       </div>
                       
                       <div class="input-group">
                           <div class="input-label">
                               <span>ğŸŒ</span>
                               í†µí™” ì„ íƒ
                           </div>
                           <select id="compare-currency" onchange="smartParseHistory()">
                               <option value="USD">ğŸ‡ºğŸ‡¸ ë¯¸êµ­ ë‹¬ëŸ¬ (USD)</option>
                               <option value="EUR">ğŸ‡ªğŸ‡º ìœ ë¡œ (EUR)</option>
                               <option value="JPY">ğŸ‡¯ğŸ‡µ ì¼ë³¸ ì—” (JPY)</option>
                               <option value="GBP">ğŸ‡¬ğŸ‡§ ì˜êµ­ íŒŒìš´ë“œ (GBP)</option>
                               <option value="CNY">ğŸ‡¨ğŸ‡³ ì¤‘êµ­ ìœ„ì•ˆ (CNY)</option>
                           </select>
                           <div class="parsed-result" id="compareCurrencyParsed">ë¯¸êµ­ ë‹¬ëŸ¬ê°€ ì„ íƒë˜ì—ˆìŠµë‹ˆë‹¤</div>
                       </div>
                   </div>
               </div>
               
               <div class="controls">
                   <button class="btn" onclick="calculateHistory()">ğŸ“Š í™˜ìœ¨ ë¹„êµ</button>
                   <button class="btn btn-secondary" onclick="showHistoryExample()">ğŸ“ ì˜ˆì‹œ</button>
                   <button class="btn btn-danger" onclick="clearHistory()">ğŸ—‘ï¸ ì´ˆê¸°í™”</button>
               </div>
               
               <div class="result-section" id="historyResult"></div>
           </div>
       </div>
   </div>

   <script>
       let currentTab = 'convert';
       
       // ì˜ˆì‹œ í™˜ìœ¨ ë°ì´í„° (ì‹¤ì œ ì„œë¹„ìŠ¤ì—ì„œëŠ” APIì—ì„œ ê°€ì ¸ì˜´)
       const exchangeRates = {
           'USD': { 'KRW': 1330.50, 'EUR': 0.92, 'JPY': 145.20, 'GBP': 0.79, 'CNY': 7.25, 'CAD': 1.35, 'AUD': 1.52 },
           'EUR': { 'KRW': 1445.20, 'USD': 1.09, 'JPY': 158.30, 'GBP': 0.86, 'CNY': 7.89, 'CAD': 1.47, 'AUD': 1.66 },
           'JPY': { 'KRW': 9.15, 'USD': 0.0069, 'EUR': 0.0063, 'GBP': 0.0054, 'CNY': 0.05, 'CAD': 0.0093, 'AUD': 0.0105 },
           'GBP': { 'KRW': 1685.75, 'USD': 1.27, 'EUR': 1.16, 'JPY': 184.50, 'CNY': 9.19, 'CAD': 1.71, 'AUD': 1.93 },
           'CNY': { 'KRW': 183.42, 'USD': 0.138, 'EUR': 0.127, 'JPY': 20.03, 'GBP': 0.109, 'CAD': 0.186, 'AUD': 0.21 },
           'KRW': { 'USD': 0.00075, 'EUR': 0.00069, 'JPY': 0.109, 'GBP': 0.00059, 'CNY': 0.00545, 'CAD': 0.00101, 'AUD': 0.00114 },
           'CAD': { 'KRW': 985.30, 'USD': 0.74, 'EUR': 0.68, 'JPY': 107.56, 'GBP': 0.58, 'CNY': 5.37, 'AUD': 1.13 },
           'AUD': { 'KRW': 875.65, 'USD': 0.66, 'EUR': 0.60, 'JPY': 95.48, 'GBP': 0.52, 'CNY': 4.76, 'CAD': 0.89 }
       };
       
       const currencyNames = {
           'USD': 'ë¯¸êµ­ ë‹¬ëŸ¬',
           'EUR': 'ìœ ë¡œ',
           'JPY': 'ì¼ë³¸ ì—”',
           'GBP': 'ì˜êµ­ íŒŒìš´ë“œ',
           'CNY': 'ì¤‘êµ­ ìœ„ì•ˆ',
           'KRW': 'í•œêµ­ ì›',
           'CAD': 'ìºë‚˜ë‹¤ ë‹¬ëŸ¬',
           'AUD': 'í˜¸ì£¼ ë‹¬ëŸ¬'
       };
       
       const currencyFlags = {
           'USD': 'ğŸ‡ºğŸ‡¸',
           'EUR': 'ğŸ‡ªğŸ‡º',
           'JPY': 'ğŸ‡¯ğŸ‡µ',
           'GBP': 'ğŸ‡¬ğŸ‡§',
           'CNY': 'ğŸ‡¨ğŸ‡³',
           'KRW': 'ğŸ‡°ğŸ‡·',
           'CAD': 'ğŸ‡¨ğŸ‡¦',
           'AUD': 'ğŸ‡¦ğŸ‡º'
       };
       
       function switchTab(tabName) {
           document.querySelectorAll('.tab-button').forEach(btn => {
               btn.classList.remove('active');
           });
           event.target.classList.add('active');
           
           document.querySelectorAll('.tab-content').forEach(content => {
               content.classList.remove('active');
           });
           document.getElementById(tabName).classList.add('active');
           
           currentTab = tabName;
       }
       
       function getExchangeRate(from, to) {
           if (from === to) return 1;
           if (exchangeRates[from] && exchangeRates[from][to]) {
               return exchangeRates[from][to];
           }
           return null;
       }
       
       function formatCurrency(amount, currency) {
           const options = {
               style: 'currency',
               currency: currency,
               minimumFractionDigits: 2,
               maximumFractionDigits: 2
           };
           
           try {
               return new Intl.NumberFormat('ko-KR', options).format(amount);
           } catch (e) {
               return `${amount.toLocaleString()} ${currency}`;
           }
       }
       
       // í™˜ì „ ê³„ì‚°
       function smartParseConvert() {
           const amount = parseFloat(document.getElementById('convert-amount').value);
           const fromCurrency = document.getElementById('from-currency').value;
           const toCurrency = document.getElementById('to-currency').value;
           
           if (amount && !isNaN(amount)) {
               document.getElementById('convertAmountParsed').textContent = `ì…ë ¥: ${amount.toLocaleString()} ${fromCurrency}`;
           } else {
               document.getElementById('convertAmountParsed').textContent = 'ê¸ˆì•¡ì„ ì…ë ¥í•´ì£¼ì„¸ìš”';
           }
           
           document.getElementById('fromCurrencyParsed').textContent = `${currencyFlags[fromCurrency]} ${currencyNames[fromCurrency]}ì´ ì„ íƒë˜ì—ˆìŠµë‹ˆë‹¤`;
           document.getElementById('toCurrencyParsed').textContent = `${currencyFlags[toCurrency]} ${currencyNames[toCurrency]}ê°€ ì„ íƒë˜ì—ˆìŠµë‹ˆë‹¤`;
       }
       
       function setFromCurrency(currency) {
           document.getElementById('from-currency').value = currency;
           smartParseConvert();
       }
       
       function swapCurrencies() {
           const fromCurrency = document.getElementById('from-currency').value;
           const toCurrency = document.getElementById('to-currency').value;
           
           document.getElementById('from-currency').value = toCurrency;
           document.getElementById('to-currency').value = fromCurrency;
           smartParseConvert();
       }
       
       function calculateExchange() {
           const amount = parseFloat(document.getElementById('convert-amount').value);
           const fromCurrency = document.getElementById('from-currency').value;
           const toCurrency = document.getElementById('to-currency').value;
           
           if (!amount || isNaN(amount)) {
               alert('ë³€í™˜í•  ê¸ˆì•¡ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
               return;
           }
           
           if (amount <= 0) {
               alert('ì–‘ìˆ˜ ê¸ˆì•¡ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
               return;
           }
           
           const exchangeRate = getExchangeRate(fromCurrency, toCurrency);
           
           if (!exchangeRate) {
               alert('í•´ë‹¹ í†µí™” ì¡°í•©ì˜ í™˜ìœ¨ ì •ë³´ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
               return;
           }
           
           const convertedAmount = amount * exchangeRate;
           const reverseRate = getExchangeRate(toCurrency, fromCurrency);
           
           // í™˜ì „ ìˆ˜ìˆ˜ë£Œ ê³„ì‚° (ì˜ˆì‹œ: 1.5%)
           const feeRate = 0.015;
           const feeAmount = convertedAmount * feeRate;
           const finalAmount = convertedAmount - feeAmount;
           
           const resultHTML = `
               <div class="result-title">ğŸ’± í™˜ì „ ê³„ì‚° ê²°ê³¼</div>
               <div class="exchange-display">
                   <div class="exchange-value">${convertedAmount.toLocaleString()}</div>
                   <div class="exchange-description">${currencyFlags[toCurrency]} ${currencyNames[toCurrency]}</div>
               </div>
               <div class="result-grid">
                   <div class="result-item">
                       <div class="result-label">ë³€í™˜ ê¸ˆì•¡</div>
                       <div class="result-value">${amount.toLocaleString()} ${fromCurrency}</div>
                   </div>
                   <div class="result-item">
                       <div class="result-label">í™˜ìœ¨</div>
                       <div class="result-value">1 ${fromCurrency} = ${exchangeRate.toLocaleString()} ${toCurrency}</div>
                   </div>
                   <div class="result-item">
                       <div class="result-label">ë³€í™˜ ê²°ê³¼</div>
                       <div class="result-value">${convertedAmount.toLocaleString()} ${toCurrency}</div>
                   </div>
                   <div class="result-item">
                       <div class="result-label">ì˜ˆìƒ ìˆ˜ìˆ˜ë£Œ (1.5%)</div>
                       <div class="result-value">${feeAmount.toLocaleString()} ${toCurrency}</div>
                   </div>
                   <div class="result-item">
                       <div class="result-label">ì‹¤ìˆ˜ë ¹ì•¡</div>
                       <div class="result-value">${finalAmount.toLocaleString()} ${toCurrency}</div>
                   </div>
                   <div class="result-item">
                       <div class="result-label">ì—­í™˜ìœ¨</div>
                       <div class="result-value">1 ${toCurrency} = ${reverseRate ? reverseRate.toLocaleString() : 'N/A'} ${fromCurrency}</div>
                   </div>
               </div>
           `;
           
           document.getElementById('convertResult').innerHTML = resultHTML;
           document.getElementById('convertResult').style.display = 'block';
           document.getElementById('convertResult').scrollIntoView({ behavior: 'smooth' });
       }
       
       function showConvertExample() {
           document.getElementById('convert-amount').value = '1000';
           document.getElementById('from-currency').value = 'USD';
           document.getElementById('to-currency').value = 'KRW';
           smartParseConvert();
       }
       
       function clearConvert() {
           document.getElementById('convert-amount').value = '';
           document.getElementById('from-currency').value = 'KRW';
           document.getElementById('to-currency').value = 'USD';
           smartParseConvert();
           document.getElementById('convertResult').style.display = 'none';
       }
       
       // í™˜ìœ¨ ì •ë³´
       function updateRates() {
           const baseCurrency = document.getElementById('base-currency').value;
           const ratesList = document.getElementById('ratesList');
           
           const currencies = ['USD', 'EUR', 'JPY', 'GBP', 'CNY', 'CAD', 'AUD'];
           const targetCurrencies = currencies.filter(c => c !== baseCurrency);
           
           ratesList.innerHTML = targetCurrencies.map(currency => {
               const rate = getExchangeRate(baseCurrency, currency);
               return `
                   <div class="rate-item">
                       <span class="rate-currency">
                           <span class="currency-flag">${currencyFlags[currency]}</span>
                           ${currency}
                       </span>
                       <span class="rate-value">${rate ? rate.toLocaleString() : 'N/A'}</span>
                   </div>
               `;
           }).join('');
       }
       
       function showRatesExample() {
           document.getElementById('base-currency').value = 'KRW';
           updateRates();
       }
       
       // í™˜ìœ¨ ë¹„êµ
       function smartParseHistory() {
           const amount = parseFloat(document.getElementById('compare-amount').value);
           const currency = document.getElementById('compare-currency').value;
           
           if (amount && !isNaN(amount)) {
               document.getElementById('compareAmountParsed').textContent = `ì…ë ¥: ${amount.toLocaleString()} ${currency}`;
           } else {
               document.getElementById('compareAmountParsed').textContent = 'ê¸ˆì•¡ì„ ì…ë ¥í•´ì£¼ì„¸ìš”';
           }
           
           document.getElementById('compareCurrencyParsed').textContent = `${currencyFlags[currency]} ${currencyNames[currency]}ê°€ ì„ íƒë˜ì—ˆìŠµë‹ˆë‹¤`;
       }
       
       function calculateHistory() {
           const amount = parseFloat(document.getElementById('compare-amount').value);
           const currency = document.getElementById('compare-currency').value;
           
           if (!amount || isNaN(amount)) {
               alert('ë¹„êµí•  ê¸ˆì•¡ì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
               return;
           }
           
           // ì˜ˆì‹œ í™˜ìœ¨ ë³€ë™ ë°ì´í„°
           const historicalRates = {
               current: getExchangeRate(currency, 'KRW'),
               yesterday: getExchangeRate(currency, 'KRW') * 0.998,
               week: getExchangeRate(currency, 'KRW') * 1.002,
               month: getExchangeRate(currency, 'KRW') * 0.995,
               year: getExchangeRate(currency, 'KRW') * 1.05
           };
           
           const currentValue = amount * historicalRates.current;
           const yesterdayValue = amount * historicalRates.yesterday;
           const weekValue = amount * historicalRates.week;
           const monthValue = amount * historicalRates.month;
           const yearValue = amount * historicalRates.year;
           
           const dailyChange = currentValue - yesterdayValue;
           const weeklyChange = currentValue - weekValue;
           const monthlyChange = currentValue - monthValue;
           const yearlyChange = currentValue - yearValue;
           
           const resultHTML = `
               <div class="result-title">ğŸ“Š í™˜ìœ¨ ë³€ë™ ë¹„êµ</div>
               <div class="exchange-display">
                   <div class="exchange-value">${currentValue.toLocaleString()}</div>
                   <div class="exchange-description">í˜„ì¬ ì›í™” ê°€ì¹˜</div>
               </div>
               <div class="result-grid">
                   <div class="result-item">
                       <div class="result-label">ê¸°ì¤€ ê¸ˆì•¡</div>
                       <div class="result-value">${amount.toLocaleString()} ${currency}</div>
                   </div>
                   <div class="result-item">
                       <div class="result-label">í˜„ì¬ í™˜ìœ¨</div>
                       <div class="result-value">${historicalRates.current.toLocaleString()}</div>
                   </div>
                   <div class="result-item">
                       <div class="result-label">ì¼ì¼ ë³€ë™</div>
                       <div class="result-value" style="color: ${dailyChange >= 0 ? '#f44336' : '#4caf50'};">
                           ${dailyChange >= 0 ? '+' : ''}${dailyChange.toLocaleString()}ì›
                       </div>
                   </div>
                   <div class="result-item">
                       <div class="result-label">ì£¼ê°„ ë³€ë™</div>
                       <div class="result-value" style="color: ${weeklyChange >= 0 ? '#f44336' : '#4caf50'};">
                           ${weeklyChange >= 0 ? '+' : ''}${weeklyChange.toLocaleString()}ì›
                       </div>
                   </div>
                   <div class="result-item">
                       <div class="result-label">ì›”ê°„ ë³€ë™</div>
                       <div class="result-value" style="color: ${monthlyChange >= 0 ? '#f44336' : '#4caf50'};">
                           ${monthlyChange >= 0 ? '+' : ''}${monthlyChange.toLocaleString()}ì›
                       </div>
                   </div>
                   <div class="result-item">
                       <div class="result-label">ì—°ê°„ ë³€ë™</div>
                       <div class="result-value" style="color: ${yearlyChange >= 0 ? '#f44336' : '#4caf50'};">
                           ${yearlyChange >= 0 ? '+' : ''}${yearlyChange.toLocaleString()}ì›
                       </div>
                   </div>
               </div>
           `;
           
           document.getElementById('historyResult').innerHTML = resultHTML;
           document.getElementById('historyResult').style.display = 'block';
           document.getElementById('historyResult').scrollIntoView({ behavior: 'smooth' });
       }
       
       function showHistoryExample() {
           document.getElementById('compare-amount').value = '1000';
           document.getElementById('compare-currency').value = 'USD';
           smartParseHistory();
       }
       
       function clearHistory() {
           document.getElementById('compare-amount').value = '';
           document.getElementById('compare-currency').value = 'USD';
           smartParseHistory();
           document.getElementById('historyResult').style.display = 'none';
       }
       
       window.addEventListener('load', function() {
           showConvertExample();
           setTimeout(() => calculateExchange(), 1500);
       });
   </script>
</body>
</html>
