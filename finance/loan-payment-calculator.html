<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ëŒ€ì¶œ ìƒí™˜ ê³„ì‚°ê¸° - ì›ë¦¬ê¸ˆê· ë“±, ì›ê¸ˆê· ë“± ìƒí™˜ | ê¸ˆìœµ ê³„ì‚°ê¸°</title>
    <meta name="description" content="ëŒ€ì¶œ ì›ê¸ˆ, ê¸ˆë¦¬, ê¸°ê°„ì„ ì…ë ¥í•˜ì—¬ ì›” ìƒí™˜ì•¡, ì´ ì´ì, ìƒí™˜ ì¼ì •ì„ ê³„ì‚°í•©ë‹ˆë‹¤. ì›ë¦¬ê¸ˆê· ë“±ìƒí™˜ê³¼ ì›ê¸ˆê· ë“±ìƒí™˜ ë°©ì‹ì„ ë¹„êµí•˜ì—¬ ìµœì ì˜ ìƒí™˜ ê³„íšì„ ì„¸ìš°ì„¸ìš”.">
    <meta name="keywords" content="ëŒ€ì¶œê³„ì‚°ê¸°, ëŒ€ì¶œìƒí™˜, ì›ë¦¬ê¸ˆê· ë“±, ì›ê¸ˆê· ë“±, ì›”ìƒí™˜ì•¡, ëŒ€ì¶œê¸ˆë¦¬, ì£¼íƒë‹´ë³´ëŒ€ì¶œ">
    <meta name="author" content="ê³„ì‚°ê¸° For í•œêµ­ì¸">
    <meta property="og:title" content="ëŒ€ì¶œ ìƒí™˜ ê³„ì‚°ê¸° - ì›ë¦¬ê¸ˆê· ë“±, ì›ê¸ˆê· ë“± ìƒí™˜">
    <meta property="og:description" content="ëŒ€ì¶œ ìƒí™˜ ë°©ì‹ë³„ ì›” ë‚©ì…ì•¡ê³¼ ì´ ì´ìë¥¼ ë¹„êµ ê³„ì‚°í•˜ëŠ” ê¸ˆìœµ ê³„ì‚°ê¸°">
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://calcforkr.com/finance/loan-payment-calculator.html">
    
    <!-- Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-68VLJL7XXD"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-68VLJL7XXD');
    </script>
    
    <!-- Google AdSense -->
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-2277280131930191"
            crossorigin="anonymous"></script>
    
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "WebApplication",
      "name": "ëŒ€ì¶œ ìƒí™˜ ê³„ì‚°ê¸°",
      "description": "ëŒ€ì¶œ ì›ê¸ˆ, ê¸ˆë¦¬, ê¸°ê°„ì„ ì…ë ¥í•˜ì—¬ ì›” ìƒí™˜ì•¡ê³¼ ì´ ì´ìë¥¼ ê³„ì‚°í•˜ëŠ” ê¸ˆìœµ ë„êµ¬",
      "url": "https://calcforkr.com/finance/loan-payment-calculator.html",
      "applicationCategory": "FinanceApplication",
      "operatingSystem": "Web Browser",
      "offers": {
        "@type": "Offer",
        "price": "0",
        "priceCurrency": "KRW"
      }
    }
    </script>
    
    <link rel="stylesheet" href="../css/common.css">
    <script src="../js/sidebar.js"></script>
    <style>
        .loan-inputs {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .input-section {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #007bff;
        }
        
        .repayment-methods {
            margin: 20px 0;
            text-align: center;
        }
        
        .method-buttons {
            display: inline-flex;
            border: 1px solid #ddd;
            border-radius: 6px;
            overflow: hidden;
            margin: 10px 0;
        }
        
        .method-button {
            padding: 12px 20px;
            background: #f8f9fa;
            border: none;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .method-button.active {
            background: #007bff;
            color: white;
        }
        
        .comparison-results {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .result-card {
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 12px;
            padding: 20px;
            text-align: center;
        }
        
        .equal-payment {
            border-color: #28a745;
        }
        
        .equal-principal {
            border-color: #17a2b8;
        }
        
        .method-title {
            font-size: 1.3em;
            font-weight: bold;
            margin-bottom: 15px;
            color: #007bff;
        }
        
        .payment-info {
            display: grid;
            gap: 15px;
            margin: 15px 0;
        }
        
        .payment-item {
            padding: 10px;
            background: #f8f9fa;
            border-radius: 6px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .payment-label {
            font-weight: bold;
        }
        
        .payment-value {
            font-size: 1.1em;
            color: #007bff;
            font-weight: bold;
        }
        
        .schedule-table {
            margin: 30px 0;
            background: white;
            border-radius: 10px;
            overflow: hidden;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .schedule-header {
            background: #007bff;
            color: white;
            padding: 15px;
            text-align: center;
            font-weight: bold;
        }
        
        .schedule-content {
            max-height: 400px;
            overflow-y: auto;
        }
        
        .schedule-table table {
            width: 100%;
            border-collapse: collapse;
        }
        
        .schedule-table th,
        .schedule-table td {
            padding: 10px;
            text-align: right;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .schedule-table th:first-child,
        .schedule-table td:first-child {
            text-align: center;
        }
        
        .schedule-table th {
            background: #f8f9fa;
            font-weight: bold;
            position: sticky;
            top: 0;
        }
        
        .schedule-table tr:hover {
            background: #f8f9fa;
        }
        
        .summary-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .summary-card {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }
        
        .summary-value {
            font-size: 1.5em;
            font-weight: bold;
            margin-bottom: 5px;
        }
        
        .summary-label {
            font-size: 0.9em;
            opacity: 0.9;
        }
        
        .tips-section {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .tip-card {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            border-left: 4px solid #28a745;
        }
        
        .bank-rates {
            background: #e8f5e8;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            border: 1px solid #28a745;
        }
        
        .rates-table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
            background: white;
            border-radius: 8px;
            overflow: hidden;
        }
        
        .rates-table th,
        .rates-table td {
            padding: 12px;
            text-align: left;
            border-bottom: 1px solid #e0e0e0;
        }
        
        .rates-table th {
            background: #28a745;
            color: white;
            font-weight: bold;
        }
        
        .comparison-highlight {
            background: #fff3cd;
            padding: 15px;
            border-radius: 8px;
            margin: 20px 0;
            border: 1px solid #ffeaa7;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ëŒ€ì¶œ ìƒí™˜ ê³„ì‚°ê¸°</h1>
        <p class="description">ëŒ€ì¶œ ì›ê¸ˆ, ê¸ˆë¦¬, ê¸°ê°„ì„ ì…ë ¥í•˜ì—¬ ì›ë¦¬ê¸ˆê· ë“±ìƒí™˜ê³¼ ì›ê¸ˆê· ë“±ìƒí™˜ ë°©ì‹ì˜ ì›” ìƒí™˜ì•¡ê³¼ ì´ ì´ìë¥¼ ë¹„êµí•´ë³´ì„¸ìš”.</p>
        
        <div class="calculator-container">
            <div class="loan-inputs">
                <div class="input-section">
                    <h3>ğŸ’° ëŒ€ì¶œ ì¡°ê±´</h3>
                    <div class="input-group">
                        <label for="loanAmount">ëŒ€ì¶œ ì›ê¸ˆ (ë§Œì›):</label>
                        <input type="number" id="loanAmount" min="100" step="100" placeholder="30000" value="30000">
                        <small>ìµœì†Œ 100ë§Œì› ì´ìƒ</small>
                    </div>
                    
                    <div class="input-group">
                        <label for="interestRate">ì—° ì´ììœ¨ (%):</label>
                        <input type="number" id="interestRate" min="0.1" max="20" step="0.01" placeholder="3.5" value="3.5">
                        <small>0.1% ~ 20%</small>
                    </div>
                    
                    <div class="input-group">
                        <label for="loanTerm">ëŒ€ì¶œ ê¸°ê°„ (ë…„):</label>
                        <input type="number" id="loanTerm" min="1" max="50" placeholder="30" value="30">
                        <small>1ë…„ ~ 50ë…„</small>
                    </div>
                </div>
                
                <div class="input-section">
                    <h3>ğŸ“Š ìƒí™˜ ë°©ì‹</h3>
                    <div class="repayment-methods">
                        <div class="method-buttons">
                            <button class="method-button active" onclick="selectMethod('both')">ì „ì²´ ë¹„êµ</button>
                            <button class="method-button" onclick="selectMethod('equal-payment')">ì›ë¦¬ê¸ˆê· ë“±</button>
                            <button class="method-button" onclick="selectMethod('equal-principal')">ì›ê¸ˆê· ë“±</button>
                        </div>
                    </div>
                    
                    <div class="input-group">
                        <label>ìƒí™˜ ë°©ì‹ ì„¤ëª…:</label>
                        <div style="font-size: 14px; color: #666; margin-top: 5px;">
                            <p><strong>ì›ë¦¬ê¸ˆê· ë“±:</strong> ë§¤ì›” ê°™ì€ ê¸ˆì•¡ ìƒí™˜</p>
                            <p><strong>ì›ê¸ˆê· ë“±:</strong> ë§¤ì›” ê°™ì€ ì›ê¸ˆ + ë³€ë™ ì´ì</p>
                        </div>
                    </div>
                </div>
            </div>
            
            <button onclick="calculateLoan()" class="calculate-btn">ëŒ€ì¶œ ìƒí™˜ ê³„ì‚°í•˜ê¸°</button>
            
            <div id="result"></div>
        </div>
        
        <div class="info-section">
            <h2>ëŒ€ì¶œ ìƒí™˜ ë°©ì‹ ë¹„êµ</h2>
            <div class="tips-section">
                <div class="tip-card">
                    <h3>ğŸ“ˆ ì›ë¦¬ê¸ˆê· ë“±ìƒí™˜</h3>
                    <ul>
                        <li><strong>íŠ¹ì§•:</strong> ë§¤ì›” ë™ì¼í•œ ìƒí™˜ì•¡</li>
                        <li><strong>ì¥ì :</strong> ìƒí™˜ì•¡ ì˜ˆì¸¡ ê°€ëŠ¥, ê°€ê³„ë¶€ ê´€ë¦¬ ìš©ì´</li>
                        <li><strong>ë‹¨ì :</strong> ì´ˆê¸° ì´ì ë¹„ì¤‘ ë†’ìŒ, ì´ ì´ì ë§ìŒ</li>
                        <li><strong>ì í•©:</strong> ì†Œë“ì´ ì¼ì •í•œ ì§ì¥ì¸</li>
                    </ul>
                </div>
                
                <div class="tip-card">
                    <h3>ğŸ“‰ ì›ê¸ˆê· ë“±ìƒí™˜</h3>
                    <ul>
                        <li><strong>íŠ¹ì§•:</strong> ë§¤ì›” ì›ê¸ˆì€ ë™ì¼, ì´ìëŠ” ê°ì†Œ</li>
                        <li><strong>ì¥ì :</strong> ì´ ì´ì ì ìŒ, ì‹œê°„ì´ ê°ˆìˆ˜ë¡ ë¶€ë‹´ ê°ì†Œ</li>
                        <li><strong>ë‹¨ì :</strong> ì´ˆê¸° ìƒí™˜ ë¶€ë‹´ í¼, ë³€ë™ ìƒí™˜ì•¡</li>
                        <li><strong>ì í•©:</strong> ì´ˆê¸° ì†Œë“ì´ ë†’ì€ ê²½ìš°</li>
                    </ul>
                </div>
                
                <div class="tip-card">
                    <h3>ğŸ’¡ ì„ íƒ ê¸°ì¤€</h3>
                    <ul>
                        <li><strong>í˜„ì¬ ì†Œë“ ìˆ˜ì¤€:</strong> ì´ˆê¸° ë¶€ë‹´ ê°ë‹¹ ê°€ëŠ¥ì„±</li>
                        <li><strong>ì†Œë“ ì „ë§:</strong> í–¥í›„ ì†Œë“ ì¦ê°€ ì˜ˆìƒ ì—¬ë¶€</li>
                        <li><strong>ê°€ê³„ í˜„ê¸ˆ íë¦„:</strong> ì¼ì •í•œ ì§€ì¶œ ì„ í˜¸ë„</li>
                        <li><strong>ì´ ì´ì ì ˆì•½:</strong> ì¥ê¸°ì  ë¹„ìš© ì ˆê° ì¤‘ìš”ë„</li>
                    </ul>
                </div>
                
                <div class="tip-card">
                    <h3>ğŸ¯ ìƒí™˜ ì „ëµ</h3>
                    <ul>
                        <li><strong>ì¤‘ë„ìƒí™˜:</strong> ì—¬ìœ  ìê¸ˆ ì‹œ ì›ê¸ˆ ìƒí™˜</li>
                        <li><strong>ê¸ˆë¦¬ ë³€ë™ ëŒ€ë¹„:</strong> ê³ ì •ê¸ˆë¦¬ vs ë³€ë™ê¸ˆë¦¬</li>
                        <li><strong>ì„¸ê¸ˆ í˜œíƒ:</strong> ì£¼íƒë‹´ë³´ëŒ€ì¶œ ì´ì ì†Œë“ê³µì œ</li>
                        <li><strong>ì¬ìœµì:</strong> ê¸ˆë¦¬ í•˜ë½ ì‹œ ê°ˆì•„íƒ€ê¸°</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <div class="info-section">
            <h2>ì£¼ìš” ì€í–‰ ëŒ€ì¶œ ê¸ˆë¦¬ (ì°¸ê³ )</h2>
            <div class="bank-rates">
                <h3>ğŸ’³ ì£¼íƒë‹´ë³´ëŒ€ì¶œ ê¸°ì¤€ ê¸ˆë¦¬ (2024ë…„ ê¸°ì¤€)</h3>
                <table class="rates-table">
                    <thead>
                        <tr>
                            <th>ì€í–‰ëª…</th>
                            <th>ê³ ì •ê¸ˆë¦¬</th>
                            <th>ë³€ë™ê¸ˆë¦¬</th>
                            <th>ìš°ëŒ€ê¸ˆë¦¬</th>
                            <th>íŠ¹ì§•</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td>KBêµ­ë¯¼ì€í–‰</td>
                            <td>4.5-6.5%</td>
                            <td>3.8-5.8%</td>
                            <td>ìµœëŒ€ -1.5%</td>
                            <td>ì£¼ê±°ë˜ ê³ ê° ìš°ëŒ€</td>
                        </tr>
                        <tr>
                            <td>ì‹ í•œì€í–‰</td>
                            <td>4.4-6.4%</td>
                            <td>3.7-5.7%</td>
                            <td>ìµœëŒ€ -1.6%</td>
                            <td>ë””ì§€í„¸ ì´ìš© ìš°ëŒ€</td>
                        </tr>
                        <tr>
                            <td>í•˜ë‚˜ì€í–‰</td>
                            <td>4.6-6.6%</td>
                            <td>3.9-5.9%</td>
                            <td>ìµœëŒ€ -1.4%</td>
                            <td>ì¢…í•©ìì‚° ê´€ë¦¬</td>
                        </tr>
                        <tr>
                            <td>ìš°ë¦¬ì€í–‰</td>
                            <td>4.3-6.3%</td>
                            <td>3.6-5.6%</td>
                            <td>ìµœëŒ€ -1.7%</td>
                            <td>ê¸‰ì—¬ì´ì²´ ìš°ëŒ€</td>
                        </tr>
                        <tr>
                            <td>NHë†í˜‘ì€í–‰</td>
                            <td>4.4-6.2%</td>
                            <td>3.7-5.5%</td>
                            <td>ìµœëŒ€ -1.5%</td>
                            <td>ë†í˜‘ì¡°í•©ì› ìš°ëŒ€</td>
                        </tr>
                    </tbody>
                </table>
                <small>â€» ì‹¤ì œ ê¸ˆë¦¬ëŠ” ê°œì¸ ì‹ ìš©ë„, ë‹´ë³´ ì¡°ê±´, ëŒ€ì¶œ ê¸ˆì•¡ì— ë”°ë¼ ì°¨ì´ê°€ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</small>
            </div>
        </div>
        
        <div class="info-section">
            <h2>ëŒ€ì¶œ ê´€ë ¨ ì„¸ê¸ˆ í˜œíƒ</h2>
            <div class="tax-benefits">
                <h3>ğŸ“‹ ì£¼íƒë‹´ë³´ëŒ€ì¶œ ì´ì ì†Œë“ê³µì œ</h3>
                <ul>
                    <li><strong>ëŒ€ìƒ:</strong> ë¬´ì£¼íƒì ë˜ëŠ” 1ì£¼íƒìì˜ ì£¼íƒ êµ¬ì… ëŒ€ì¶œ</li>
                    <li><strong>ê³µì œí•œë„:</strong> ì—°ê°„ ìµœëŒ€ 1,800ë§Œì›</li>
                    <li><strong>ê³µì œìœ¨:</strong> ì†Œë“ì„¸ìœ¨ì— ë”°ë¼ 6-46%</li>
                    <li><strong>ì¡°ê±´:</strong> ì£¼íƒ ê°€ê²© 5ì–µì› ì´í•˜, ì „ìš©ë©´ì  85ã¡ ì´í•˜</li>
                </ul>
                
                <h3>ğŸ  ì£¼íƒì²­ì•½ì¢…í•©ì €ì¶•</h3>
                <ul>
                    <li><strong>ì†Œë“ê³µì œ:</strong> ì—°ê°„ ë‚©ì…ì•¡ì˜ 40%, ìµœëŒ€ 96ë§Œì›</li>
                    <li><strong>ëŒ€ìƒ:</strong> ë¬´ì£¼íƒ ì„¸ëŒ€ì£¼</li>
                    <li><strong>ì¡°ê±´:</strong> ì—°ì†Œë“ 7ì²œë§Œì› ì´í•˜</li>
                </ul>
            </div>
        </div>
        
        <div class="disclaimer">
            <p><strong>ì£¼ì˜ì‚¬í•­:</strong> ì´ ê³„ì‚°ê¸°ëŠ” ì°¸ê³ ìš©ìœ¼ë¡œë§Œ ì‚¬ìš©í•˜ì‹œê³ , ì‹¤ì œ ëŒ€ì¶œ ì¡°ê±´ì€ ì€í–‰ë³„ë¡œ ë‹¤ë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì •í™•í•œ ëŒ€ì¶œ ì¡°ê±´ê³¼ ê¸ˆë¦¬ëŠ” í•´ë‹¹ ê¸ˆìœµê¸°ê´€ì— ì§ì ‘ ë¬¸ì˜í•˜ì‹œê¸° ë°”ëë‹ˆë‹¤.</p>
        </div>
    </div>
    
    <script src="../js/calculator-common.js"></script>
    <script>
        let currentMethod = 'both';
        
        function selectMethod(method) {
            currentMethod = method;
            
            // ë²„íŠ¼ ìƒíƒœ ì—…ë°ì´íŠ¸
            document.querySelectorAll('.method-button').forEach(btn => {
                btn.classList.remove('active');
            });
            event.target.classList.add('active');
        }
        
        function calculateLoan() {
            const loanAmount = parseFloat(document.getElementById('loanAmount').value) * 10000; // ë§Œì› -> ì›
            const annualRate = parseFloat(document.getElementById('interestRate').value) / 100;
            const loanTermYears = parseInt(document.getElementById('loanTerm').value);
            
            if (!loanAmount || !annualRate || !loanTermYears) {
                showError('ëª¨ë“  í•„ë“œë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }
            
            if (loanAmount < 1000000) {
                showError('ëŒ€ì¶œ ì›ê¸ˆì€ ìµœì†Œ 100ë§Œì› ì´ìƒì´ì–´ì•¼ í•©ë‹ˆë‹¤.');
                return;
            }
            
            if (annualRate < 0.001 || annualRate > 0.2) {
                showError('ì´ììœ¨ì€ 0.1%~20% ë²”ìœ„ì—ì„œ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }
            
            if (loanTermYears < 1 || loanTermYears > 50) {
                showError('ëŒ€ì¶œ ê¸°ê°„ì€ 1ë…„~50ë…„ ë²”ìœ„ì—ì„œ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }
            
            const monthlyRate = annualRate / 12;
            const totalMonths = loanTermYears * 12;
            
            // ì›ë¦¬ê¸ˆê· ë“±ìƒí™˜ ê³„ì‚°
            const equalPaymentResult = calculateEqualPayment(loanAmount, monthlyRate, totalMonths);
            
            // ì›ê¸ˆê· ë“±ìƒí™˜ ê³„ì‚°
            const equalPrincipalResult = calculateEqualPrincipal(loanAmount, monthlyRate, totalMonths);
            
            displayResults(equalPaymentResult, equalPrincipalResult, loanAmount, annualRate, loanTermYears);
            
            // Google Analytics ì´ë²¤íŠ¸ ì¶”ì 
            gtag('event', 'loan_calculation', {
                'event_category': 'Finance Calculator',
                'event_label': currentMethod
            });
        }
        
        function calculateEqualPayment(principal, monthlyRate, totalMonths) {
            // ì›ë¦¬ê¸ˆê· ë“±ìƒí™˜ ê³µì‹: PMT = P * [r(1+r)^n] / [(1+r)^n - 1]
            const monthlyPayment = principal * (monthlyRate * Math.pow(1 + monthlyRate, totalMonths)) / 
                                  (Math.pow(1 + monthlyRate, totalMonths) - 1);
            
            const totalPayment = monthlyPayment * totalMonths;
            const totalInterest = totalPayment - principal;
            
            // ì›”ë³„ ìƒì„¸ ê³„ì‚°
            const schedule = [];
            let remainingBalance = principal;
            
            for (let month = 1; month <= totalMonths; month++) {
                const interestPayment = remainingBalance * monthlyRate;
                const principalPayment = monthlyPayment - interestPayment;
                remainingBalance -= principalPayment;
                
                if (month <= 60 || month % 12 === 0 || month > totalMonths - 12) { // ì²˜ìŒ 5ë…„, ë§¤ë…„, ë§ˆì§€ë§‰ 1ë…„
                    schedule.push({
                        month,
                        payment: monthlyPayment,
                        principal: principalPayment,
                        interest: interestPayment,
                        balance: Math.max(0, remainingBalance)
                    });
                }
            }
            
            return {
                monthlyPayment,
                totalPayment,
                totalInterest,
                schedule,
                type: 'ì›ë¦¬ê¸ˆê· ë“±ìƒí™˜'
            };
        }
        
        function calculateEqualPrincipal(principal, monthlyRate, totalMonths) {
            const monthlyPrincipal = principal / totalMonths;
            let totalPayment = 0;
            let remainingBalance = principal;
            
            const schedule = [];
            
            for (let month = 1; month <= totalMonths; month++) {
                const interestPayment = remainingBalance * monthlyRate;
                const monthlyPayment = monthlyPrincipal + interestPayment;
                totalPayment += monthlyPayment;
                remainingBalance -= monthlyPrincipal;
                
                if (month <= 60 || month % 12 === 0 || month > totalMonths - 12) { // ì²˜ìŒ 5ë…„, ë§¤ë…„, ë§ˆì§€ë§‰ 1ë…„
                    schedule.push({
                        month,
                        payment: monthlyPayment,
                        principal: monthlyPrincipal,
                        interest: interestPayment,
                        balance: Math.max(0, remainingBalance)
                    });
                }
            }
            
            const totalInterest = totalPayment - principal;
            const firstPayment = monthlyPrincipal + (principal * monthlyRate);
            const lastPayment = monthlyPrincipal + (monthlyPrincipal * monthlyRate);
            
            return {
                firstPayment,
                lastPayment,
                monthlyPrincipal,
                totalPayment,
                totalInterest,
                schedule,
                type: 'ì›ê¸ˆê· ë“±ìƒí™˜'
            };
        }
        
        function displayResults(equalPayment, equalPrincipal, loanAmount, annualRate, loanTermYears) {
            let resultHTML = '';
            
            // ìš”ì•½ ì¹´ë“œ
            resultHTML += `
                <div class="summary-cards">
                    <div class="summary-card">
                        <div class="summary-value">${formatCurrency(loanAmount)}</div>
                        <div class="summary-label">ëŒ€ì¶œ ì›ê¸ˆ</div>
                    </div>
                    <div class="summary-card">
                        <div class="summary-value">${(annualRate * 100).toFixed(2)}%</div>
                        <div class="summary-label">ì—° ì´ììœ¨</div>
                    </div>
                    <div class="summary-card">
                        <div class="summary-value">${loanTermYears}ë…„</div>
                        <div class="summary-label">ëŒ€ì¶œ ê¸°ê°„</div>
                    </div>
                    <div class="summary-card">
                        <div class="summary-value">${formatCurrency(equalPrincipal.totalInterest - equalPayment.totalInterest)}</div>
                        <div class="summary-label">ì›ê¸ˆê· ë“± ì´ìì ˆì•½</div>
                    </div>
                </div>
            `;
            
            if (currentMethod === 'both') {
                // ë¹„êµ ê²°ê³¼ í‘œì‹œ
                resultHTML += `
                    <div class="comparison-results">
                        <div class="result-card equal-payment">
                            <div class="method-title">ğŸ’³ ì›ë¦¬ê¸ˆê· ë“±ìƒí™˜</div>
                            <div class="payment-info">
                                <div class="payment-item">
                                    <span class="payment-label">ì›” ìƒí™˜ì•¡</span>
                                    <span class="payment-value">${formatCurrency(equalPayment.monthlyPayment)}</span>
                                </div>
                                <div class="payment-item">
                                    <span class="payment-label">ì´ ìƒí™˜ì•¡</span>
                                    <span class="payment-value">${formatCurrency(equalPayment.totalPayment)}</span>
                                </div>
                                <div class="payment-item">
                                    <span class="payment-label">ì´ ì´ì</span>
                                    <span class="payment-value">${formatCurrency(equalPayment.totalInterest)}</span>
                                </div>
                            </div>
                            <div style="font-size: 14px; color: #666; margin-top: 10px;">
                                ë§¤ì›” ë™ì¼í•œ ${formatCurrency(equalPayment.monthlyPayment)} ìƒí™˜
                            </div>
                        </div>
                        
                        <div class="result-card equal-principal">
                            <div class="method-title">ğŸ“Š ì›ê¸ˆê· ë“±ìƒí™˜</div>
                            <div class="payment-info">
                                <div class="payment-item">
                                    <span class="payment-label">ì²« ì›” ìƒí™˜ì•¡</span>
                                    <span class="payment-value">${formatCurrency(equalPrincipal.firstPayment)}</span>
                                </div>
                                <div class="payment-item">
                                    <span class="payment-label">ë§ˆì§€ë§‰ ìƒí™˜ì•¡</span>
                                    <span class="payment-value">${formatCurrency(equalPrincipal.lastPayment)}</span>
                                </div>
                                <div class="payment-item">
                                    <span class="payment-label">ì´ ìƒí™˜ì•¡</span>
                                    <span class="payment-value">${formatCurrency(equalPrincipal.totalPayment)}</span>
                                </div>
                                <div class="payment-item">
                                    <span class="payment-label">ì´ ì´ì</span>
                                    <span class="payment-value">${formatCurrency(equalPrincipal.totalInterest)}</span>
                                </div>
                            </div>
                            <div style="font-size: 14px; color: #666; margin-top: 10px;">
                                ë§¤ì›” ì›ê¸ˆ ${formatCurrency(equalPrincipal.monthlyPrincipal)} + ë³€ë™ì´ì
                            </div>
                        </div>
                    </div>
                `;
                
                // ë¹„êµ í•˜ì´ë¼ì´íŠ¸
                const savings = equalPayment.totalInterest - equalPrincipal.totalInterest;
                const savingsPercent = ((savings / equalPayment.totalInterest) * 100).toFixed(1);
                
                resultHTML += `
                    <div class="comparison-highlight">
                        <h4>ğŸ’° ì›ê¸ˆê· ë“±ìƒí™˜ ì„ íƒ ì‹œ ì ˆì•½ íš¨ê³¼</h4>
                        <ul>
                            <li><strong>ì´ì ì ˆì•½:</strong> ${formatCurrency(savings)} (${savingsPercent}% ì ˆì•½)</li>
                            <li><strong>ì´ˆê¸° ë¶€ë‹´:</strong> ì²« ë‹¬ ${formatCurrency(equalPrincipal.firstPayment - equalPayment.monthlyPayment)} ë” ì§€ë¶ˆ</li>
                            <li><strong>ê· ë“±ì :</strong> ${Math.round(loanTermYears * 12 / 2)}ê°œì›” í›„ ì›ë¦¬ê¸ˆê· ë“±ê³¼ ë¹„ìŠ·í•œ ìˆ˜ì¤€</li>
                        </ul>
                    </div>
                `;
            }
            
            // ìƒí™˜ ì¼ì •í‘œ
            const displayMethod = currentMethod === 'both' ? 'equal-payment' : currentMethod;
            const scheduleData = displayMethod === 'equal-principal' ? equalPrincipal : equalPayment;
            
            resultHTML += createScheduleTable(scheduleData, displayMethod);
            
            document.getElementById('result').innerHTML = resultHTML;
        }
        
        function createScheduleTable(data, method) {
            let tableHTML = `
                <div class="schedule-table">
                    <div class="schedule-header">
                        ğŸ“… ${data.type} ìƒí™˜ ì¼ì •í‘œ (ì£¼ìš” ì‹œì )
                    </div>
                    <div class="schedule-content">
                        <table>
                            <thead>
                                <tr>
                                    <th>íšŒì°¨</th>
                                    <th>ìƒí™˜ì•¡</th>
                                    <th>ì›ê¸ˆ</th>
                                    <th>ì´ì</th>
                                    <th>ì”ì•¡</th>
                                </tr>
                            </thead>
                            <tbody>
            `;
            
            data.schedule.forEach(item => {
                tableHTML += `
                    <tr>
                        <td>${item.month}íšŒ</td>
                        <td>${formatCurrency(item.payment)}</td>
                        <td>${formatCurrency(item.principal)}</td>
                        <td>${formatCurrency(item.interest)}</td>
                        <td>${formatCurrency(item.balance)}</td>
                    </tr>
                `;
            });
            
            tableHTML += `
                            </tbody>
                        </table>
                    </div>
                    <div style="padding: 15px; background: #f8f9fa; text-align: center; font-size: 14px; color: #666;">
                        â€» ì²˜ìŒ 5ë…„, ë§¤ë…„ ë‹¨ìœ„, ë§ˆì§€ë§‰ 1ë…„ì˜ ì£¼ìš” ì‹œì ë§Œ í‘œì‹œë©ë‹ˆë‹¤.
                    </div>
                </div>
            `;
            
            return tableHTML;
        }
        
        function formatCurrency(amount) {
            return new Intl.NumberFormat('ko-KR', {
                style: 'currency',
                currency: 'KRW',
                minimumFractionDigits: 0,
                maximumFractionDigits: 0
            }).format(amount);
        }
        
        function showError(message) {
            document.getElementById('result').innerHTML = 
                `<div class="error-message">${message}</div>`;
        }
        
        function setExample(type) {
            if (type === 'house') {
                document.getElementById('loanAmount').value = 30000; // 3ì–µì›
                document.getElementById('interestRate').value = 3.5;
                document.getElementById('loanTerm').value = 30;
            } else if (type === 'jeonse') {
                document.getElementById('loanAmount').value = 20000; // 2ì–µì›
                document.getElementById('interestRate').value = 2.8;
                document.getElementById('loanTerm').value = 2;
            } else if (type === 'business') {
                document.getElementById('loanAmount').value = 10000; // 1ì–µì›
                document.getElementById('interestRate').value = 4.2;
                document.getElementById('loanTerm').value = 10;
            }
            calculateLoan();
        }
        
        // ì—”í„° í‚¤ë¡œ ê³„ì‚° ì‹¤í–‰
        document.addEventListener('keypress', function(event) {
            if (event.key === 'Enter') {
                calculateLoan();
            }
        });
        
        // í˜ì´ì§€ ë¡œë“œ ì‹œ ì˜ˆì‹œ ë²„íŠ¼ ì¶”ê°€
        document.addEventListener('DOMContentLoaded', function() {
            const exampleDiv = document.createElement('div');
            exampleDiv.innerHTML = `
                <div style="text-align: center; margin: 20px 0; padding: 15px; background: #e3f2fd; border-radius: 8px;">
                    <strong>ğŸ’¡ ëŒ€ì¶œ ìœ í˜•ë³„ ì˜ˆì‹œ:</strong><br>
                    <button onclick="setExample('house')" 
                            style="margin: 5px; padding: 8px 15px; border: 1px solid #2196f3; border-radius: 4px; background: #f8f9fa; cursor: pointer;">
                        ì£¼íƒë‹´ë³´ëŒ€ì¶œ (3ì–µ, 3.5%, 30ë…„)
                    </button>
                    <button onclick="setExample('jeonse')" 
                            style="margin: 5px; padding: 8px 15px; border: 1px solid #2196f3; border-radius: 4px; background: #f8f9fa; cursor: pointer;">
                        ì „ì„¸ìê¸ˆëŒ€ì¶œ (2ì–µ, 2.8%, 2ë…„)
                    </button>
                    <button onclick="setExample('business')" 
                            style="margin: 5px; padding: 8px 15px; border: 1px solid #2196f3; border-radius: 4px; background: #f8f9fa; cursor: pointer;">
                        ì‚¬ì—…ìëŒ€ì¶œ (1ì–µ, 4.2%, 10ë…„)
                    </button>
                </div>
            `;
            document.querySelector('.calculator-container').appendChild(exampleDiv);
        });
    </script>

    </body>
</html>