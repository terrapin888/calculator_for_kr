<!DOCTYPE html>
<html lang="ko">
<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Ï†ÅÍ∏à Í≥ÑÏÇ∞Í∏∞ - Ï†ÅÍ∏à ÏûêÎèô Í≥ÑÏÇ∞ | Ïä§ÎßàÌä∏ ÌååÏã±</title>
   <meta name="description" content="Ï†ÅÍ∏à Í≥ÑÏÇ∞Í∏∞Î°ú Ï†ÅÍ∏àÍ≥º ÏòàÍ∏àÏùÑ ÏâΩÍ≤å Í≥ÑÏÇ∞ÌïòÏÑ∏Ïöî. Ïõî ÎÇ©ÏûÖÏï°Í≥º Ïù¥Ïú®ÏùÑ ÏûÖÎ†•ÌïòÎ©¥ ÏûêÎèôÏúºÎ°ú ÎßåÍ∏∞Í∏àÏï°ÏùÑ Í≥ÑÏÇ∞Ìï©ÎãàÎã§.">
   <style>
       * {
           margin: 0;
           padding: 0;
           box-sizing: border-box;
       }
       
       body {
           font-family: 'Malgun Gothic', -apple-system, BlinkMacSystemFont, sans-serif;
           background: linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%);
           min-height: 100vh;
           padding: 20px;
       }
       
       .container {
           max-width: 1200px;
           margin: 0 auto;
           background: white;
           border-radius: 20px;
           box-shadow: 0 25px 50px rgba(0,0,0,0.15);
           overflow: hidden;
           animation: slideUp 0.6s ease-out;
       }
       
       @keyframes slideUp {
           from { opacity: 0; transform: translateY(30px); }
           to { opacity: 1; transform: translateY(0); }
       }
       
       .header {
           background: linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%);
           color: white;
           padding: 40px 30px;
           text-align: center;
           position: relative;
           overflow: hidden;
       }
       
       .header::before {
           content: '';
           position: absolute;
           top: -50%;
           left: -50%;
           width: 200%;
           height: 200%;
           background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
           animation: pulse 4s ease-in-out infinite;
       }
       
       @keyframes pulse {
           0%, 100% { transform: scale(1); }
           50% { transform: scale(1.1); }
       }
       
       .header h1 {
           font-size: 2.5rem;
           margin-bottom: 10px;
           position: relative;
           z-index: 1;
       }
       
       .header p {
           font-size: 1.1rem;
           opacity: 0.9;
           position: relative;
           z-index: 1;
       }
       
       .content {
           padding: 40px 30px;
       }
       
       .calculator-tabs {
           display: flex;
           background: #f8f9fa;
           border-radius: 15px;
           padding: 5px;
           margin-bottom: 30px;
           gap: 5px;
       }
       
       .tab-button {
           flex: 1;
           padding: 15px 20px;
           border: none;
           border-radius: 10px;
           background: transparent;
           cursor: pointer;
           transition: all 0.3s ease;
           font-weight: 600;
           font-size: 14px;
       }
       
       .tab-button.active {
           background: linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%);
           color: white;
       }
       
       .tab-content {
           display: none;
       }
       
       .tab-content.active {
           display: block;
       }
       
       .input-section {
           background: #f8f9fa;
           border-radius: 15px;
           padding: 30px;
           margin-bottom: 30px;
           border: 2px solid #e9ecef;
       }
       
       .input-grid {
           display: grid;
           grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
           gap: 25px;
       }
       
       .input-group {
           background: white;
           border-radius: 12px;
           padding: 20px;
           box-shadow: 0 2px 10px rgba(0,0,0,0.05);
       }
       
       .input-label {
           font-size: 1.1rem;
           font-weight: 600;
           color: #333;
           margin-bottom: 10px;
           display: flex;
           align-items: center;
           gap: 8px;
       }
       
       input[type="text"], input[type="number"], select {
           width: 100%;
           padding: 15px;
           border: 2px solid #e1e5e9;
           border-radius: 8px;
           font-size: 16px;
           transition: all 0.3s ease;
           background: #fafbfc;
       }
       
       input:focus, select:focus {
           outline: none;
           border-color: #84fab0;
           background: white;
           box-shadow: 0 0 0 3px rgba(132, 250, 176, 0.1);
       }
       
       .parsed-result {
           margin-top: 10px;
           padding: 10px;
           background: #e8f5e8;
           border-radius: 6px;
           font-size: 14px;
           color: #2e7d32;
       }
       
       .controls {
           display: flex;
           gap: 15px;
           flex-wrap: wrap;
           justify-content: center;
           margin: 25px 0;
       }
       
       .btn {
           background: linear-gradient(135deg, #84fab0 0%, #8fd3f4 100%);
           color: white;
           border: none;
           padding: 15px 30px;
           border-radius: 25px;
           font-size: 16px;
           font-weight: 600;
           cursor: pointer;
           transition: all 0.3s ease;
       }
       
       .btn:hover {
           transform: translateY(-2px);
           box-shadow: 0 8px 25px rgba(132, 250, 176, 0.3);
       }
       
       .btn-secondary {
           background: linear-gradient(135deg, #a8edea 0%, #fed6e3 100%);
       }
       
       .btn-danger {
           background: linear-gradient(135deg, #ff8a80 0%, #ff5722 100%);
       }
       
       .result-section {
           background: linear-gradient(135deg, #e8f5e8 0%, #c8e6c9 100%);
           border-radius: 15px;
           padding: 30px;
           margin-top: 30px;
           border: 2px solid #4caf50;
           display: none;
           animation: fadeIn 0.5s ease-in;
       }
       
       @keyframes fadeIn {
           from { opacity: 0; transform: translateY(20px); }
           to { opacity: 1; transform: translateY(0); }
       }
       
       .result-title {
           font-size: 1.5rem;
           font-weight: bold;
           color: #2e7d32;
           margin-bottom: 25px;
           text-align: center;
       }
       
       .savings-display {
           background: white;
           border-radius: 15px;
           padding: 30px;
           text-align: center;
           margin-bottom: 25px;
           box-shadow: 0 5px 20px rgba(0,0,0,0.1);
       }
       
       .savings-value {
           font-size: 3rem;
           font-weight: bold;
           color: #4caf50;
           margin-bottom: 10px;
           font-family: 'Courier New', monospace;
       }
       
       .savings-description {
           font-size: 1.2rem;
           color: #666;
       }
       
       .result-grid {
           display: grid;
           grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
           gap: 20px;
       }
       
       .result-item {
           background: white;
           padding: 20px;
           border-radius: 12px;
           text-align: center;
           box-shadow: 0 3px 15px rgba(0,0,0,0.1);
       }
       
       .result-label {
           font-size: 0.9rem;
           color: #666;
           margin-bottom: 8px;
       }
       
       .result-value {
           font-size: 1.3rem;
           font-weight: bold;
           color: #4caf50;
       }
       
       .savings-schedule {
           background: white;
           border-radius: 12px;
           padding: 20px;
           margin-top: 20px;
           box-shadow: 0 3px 15px rgba(0,0,0,0.1);
           max-height: 400px;
           overflow-y: auto;
       }
       
       .schedule-title {
           font-size: 1.1rem;
           font-weight: bold;
           color: #333;
           margin-bottom: 15px;
           text-align: center;
       }
       
       .schedule-table {
           width: 100%;
           border-collapse: collapse;
           font-size: 14px;
       }
       
       .schedule-table th, .schedule-table td {
           padding: 8px 12px;
           text-align: center;
           border-bottom: 1px solid #e9ecef;
       }
       
       .schedule-table th {
           background: #f8f9fa;
           font-weight: bold;
           color: #333;
           position: sticky;
           top: 0;
       }
       
       .preset-amounts {
           background: white;
           border-radius: 12px;
           padding: 20px;
           margin-top: 20px;
           box-shadow: 0 3px 15px rgba(0,0,0,0.1);
       }
       
       .preset-title {
           font-size: 1.1rem;
           font-weight: bold;
           color: #333;
           margin-bottom: 15px;
           text-align: center;
       }
       
       .preset-grid {
           display: grid;
           grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
           gap: 10px;
       }
       
       .preset-btn {
           padding: 12px 15px;
           border: 2px solid #e9ecef;
           border-radius: 20px;
           background: white;
           cursor: pointer;
           transition: all 0.3s ease;
           text-align: center;
           font-weight: 600;
           font-size: 13px;
       }
       
       .preset-btn:hover {
           border-color: #84fab0;
           background: rgba(132, 250, 176, 0.1);
       }
       
       @media (max-width: 768px) {
           .container {
               margin: 10px;
           }
           
           .header h1 {
               font-size: 2rem;
           }
           
           .calculator-tabs {
               flex-direction: column;
           }
           
           .input-grid {
               grid-template-columns: 1fr;
           }
           
           .controls {
               flex-direction: column;
           }
           
           .btn {
               width: 100%;
           }
           
           .savings-value {
               font-size: 2.5rem;
           }
       }
   </style>
</head>
<body>
   <div class="container">
       <div class="header">
           <h1>üè¶ Ï†ÅÍ∏à Í≥ÑÏÇ∞Í∏∞</h1>
           <p>Ï†ÅÍ∏àÍ≥º ÏòàÍ∏àÏùÑ ÏâΩÍ≤å Í≥ÑÏÇ∞ÌïòÍ≥† Ï†ÄÏ∂ï Í≥ÑÌöçÏùÑ ÏÑ∏Ïö∞ÏÑ∏Ïöî</p>
       </div>
       
       <div class="content">
           <div class="calculator-tabs">
               <button class="tab-button active" onclick="switchTab('savings')">Ï†ÅÍ∏à Í≥ÑÏÇ∞</button>
               <button class="tab-button" onclick="switchTab('deposit')">ÏòàÍ∏à Í≥ÑÏÇ∞</button>
               <button class="tab-button" onclick="switchTab('goal')">Î™©Ìëú Ï†ÄÏ∂ï</button>
           </div>
           
           <!-- Ï†ÅÍ∏à Í≥ÑÏÇ∞ -->
           <div id="savings" class="tab-content active">
               <div class="input-section">
                   <div class="input-grid">
                       <div class="input-group">
                           <div class="input-label">
                               <span>üí∞</span>
                               Ïõî ÎÇ©ÏûÖÏï°
                           </div>
                           <input type="text" id="monthly-payment" placeholder="Ïòà: 50ÎßåÏõê, 500000Ïõê..." oninput="smartParseSavings()">
                           <div class="parsed-result" id="monthlyPaymentParsed">Ïõî ÎÇ©ÏûÖÏï°ÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî</div>
                       </div>
                       
                       <div class="input-group">
                           <div class="input-label">
                               <span>üìä</span>
                               Ïó∞Ïù¥Ïú® (%)
                           </div>
                           <input type="number" id="savings-rate" placeholder="Ïòà: 3.5" step="0.1" oninput="smartParseSavings()">
                           <div class="parsed-result" id="savingsRateParsed">Ïù¥Ïú®ÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî</div>
                       </div>
                       
                       <div class="input-group">
                           <div class="input-label">
                               <span>üìÖ</span>
                               Ï†ÅÍ∏à Í∏∞Í∞Ñ
                           </div>
                           <select id="savings-period" onchange="smartParseSavings()">
                               <option value="">Í∏∞Í∞Ñ ÏÑ†ÌÉù</option>
                               <option value="6">6Í∞úÏõî</option>
                               <option value="12">12Í∞úÏõî (1ÎÖÑ)</option>
                               <option value="18">18Í∞úÏõî</option>
                               <option value="24">24Í∞úÏõî (2ÎÖÑ)</option>
                               <option value="36">36Í∞úÏõî (3ÎÖÑ)</option>
                               <option value="48">48Í∞úÏõî (4ÎÖÑ)</option>
                               <option value="60">60Í∞úÏõî (5ÎÖÑ)</option>
                               <option value="72">72Í∞úÏõî (6ÎÖÑ)</option>
                           </select>
                           <div class="parsed-result" id="savingsPeriodParsed">Í∏∞Í∞ÑÏùÑ ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî</div>
                       </div>
                   </div>
                   
                   <div class="preset-amounts">
                       <div class="preset-title">üéØ Îπ†Î•∏ ÎÇ©ÏûÖÏï° ÏÑ†ÌÉù</div>
                       <div class="preset-grid">
                           <button class="preset-btn" onclick="setMonthlyPayment(100000)">10ÎßåÏõê</button>
                           <button class="preset-btn" onclick="setMonthlyPayment(200000)">20ÎßåÏõê</button>
                           <button class="preset-btn" onclick="setMonthlyPayment(300000)">30ÎßåÏõê</button>
                           <button class="preset-btn" onclick="setMonthlyPayment(500000)">50ÎßåÏõê</button>
                           <button class="preset-btn" onclick="setMonthlyPayment(1000000)">100ÎßåÏõê</button>
                           <button class="preset-btn" onclick="setMonthlyPayment(2000000)">200ÎßåÏõê</button>
                       </div>
                   </div>
               </div>
               
               <div class="controls">
                   <button class="btn" onclick="calculateSavings()">üè¶ Ï†ÅÍ∏à Í≥ÑÏÇ∞</button>
                   <button class="btn btn-secondary" onclick="showSavingsExample()">üìù ÏòàÏãú</button>
                   <button class="btn btn-danger" onclick="clearSavings()">üóëÔ∏è Ï¥àÍ∏∞Ìôî</button>
               </div>
               
               <div class="result-section" id="savingsResult"></div>
           </div>
           
           <!-- ÏòàÍ∏à Í≥ÑÏÇ∞ -->
           <div id="deposit" class="tab-content">
               <div class="input-section">
                   <div class="input-grid">
                       <div class="input-group">
                           <div class="input-label">
                               <span>üí∞</span>
                               ÏòàÍ∏à ÏõêÍ∏à
                           </div>
                           <input type="text" id="deposit-principal" placeholder="Ïòà: 5000ÎßåÏõê, 50000000Ïõê..." oninput="smartParseDeposit()">
                           <div class="parsed-result" id="depositPrincipalParsed">ÏòàÍ∏à ÏõêÍ∏àÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî</div>
                       </div>
                       
                       <div class="input-group">
                           <div class="input-label">
                               <span>üìä</span>
                               Ïó∞Ïù¥Ïú® (%)
                           </div>
                           <input type="number" id="deposit-rate" placeholder="Ïòà: 4.2" step="0.1" oninput="smartParseDeposit()">
                           <div class="parsed-result" id="depositRateParsed">Ïù¥Ïú®ÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî</div>
                       </div>
                       
                       <div class="input-group">
                           <div class="input-label">
                               <span>üìÖ</span>
                               ÏòàÍ∏à Í∏∞Í∞Ñ
                           </div>
                           <select id="deposit-period" onchange="smartParseDeposit()">
                               <option value="">Í∏∞Í∞Ñ ÏÑ†ÌÉù</option>
                               <option value="3">3Í∞úÏõî</option>
                               <option value="6">6Í∞úÏõî</option>
                               <option value="12">12Í∞úÏõî (1ÎÖÑ)</option>
                               <option value="24">24Í∞úÏõî (2ÎÖÑ)</option>
                               <option value="36">36Í∞úÏõî (3ÎÖÑ)</option>
                               <option value="60">60Í∞úÏõî (5ÎÖÑ)</option>
                           </select>
                           <div class="parsed-result" id="depositPeriodParsed">Í∏∞Í∞ÑÏùÑ ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî</div>
                       </div>
                       
                       <div class="input-group">
                           <div class="input-label">
                               <span>üîÑ</span>
                               Ïù¥Ïûê ÏßÄÍ∏â Î∞©Ïãù
                           </div>
                           <select id="interest-payment" onchange="smartParseDeposit()">
                               <option value="compound">Î≥µÎ¶¨ (Ïù¥ÏûêÏû¨Ìà¨Ïûê)</option>
                               <option value="simple">Îã®Î¶¨ (ÎßåÍ∏∞ÏßÄÍ∏â)</option>
                               <option value="monthly">Ïõî ÏßÄÍ∏â</option>
                           </select>
                           <div class="parsed-result" id="interestPaymentParsed">Î≥µÎ¶¨ Î∞©ÏãùÏù¥ ÏÑ†ÌÉùÎêòÏóàÏäµÎãàÎã§</div>
                       </div>
                   </div>
               </div>
               
               <div class="controls">
                   <button class="btn" onclick="calculateDeposit()">üè¶ ÏòàÍ∏à Í≥ÑÏÇ∞</button>
                   <button class="btn btn-secondary" onclick="showDepositExample()">üìù ÏòàÏãú</button>
                   <button class="btn btn-danger" onclick="clearDeposit()">üóëÔ∏è Ï¥àÍ∏∞Ìôî</button>
               </div>
               
               <div class="result-section" id="depositResult"></div>
           </div>
           
           <!-- Î™©Ìëú Ï†ÄÏ∂ï -->
           <div id="goal" class="tab-content">
               <div class="input-section">
                   <div class="input-grid">
                       <div class="input-group">
                           <div class="input-label">
                               <span>üéØ</span>
                               Î™©Ìëú Í∏àÏï°
                           </div>
                           <input type="text" id="target-amount" placeholder="Ïòà: 1ÏñµÏõê, 100000000Ïõê..." oninput="smartParseGoal()">
                           <div class="parsed-result" id="targetAmountParsed">Î™©Ìëú Í∏àÏï°ÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî</div>
                       </div>
                       
                       <div class="input-group">
                           <div class="input-label">
                               <span>üìÖ</span>
                               Ï†ÄÏ∂ï Í∏∞Í∞Ñ (ÎÖÑ)
                           </div>
                           <input type="number" id="goal-years" placeholder="Ïòà: 10" min="1" max="50" oninput="smartParseGoal()">
                           <div class="parsed-result" id="goalYearsParsed">Ï†ÄÏ∂ï Í∏∞Í∞ÑÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî</div>
                       </div>
                       
                       <div class="input-group">
                           <div class="input-label">
                               <span>üìä</span>
                               ÏòàÏÉÅ Ïó∞Ïù¥Ïú® (%)
                           </div>
                           <input type="number" id="goal-rate" placeholder="Ïòà: 4.0" step="0.1" oninput="smartParseGoal()">
                           <div class="parsed-result" id="goalRateParsed">ÏòàÏÉÅ Ïù¥Ïú®ÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî</div>
                       </div>
                   </div>
               </div>
               
               <div class="controls">
                   <button class="btn" onclick="calculateGoal()">üéØ Î™©Ìëú Ï†ÄÏ∂ï Í≥ÑÏÇ∞</button>
                   <button class="btn btn-secondary" onclick="showGoalExample()">üìù ÏòàÏãú</button>
                   <button class="btn btn-danger" onclick="clearGoal()">üóëÔ∏è Ï¥àÍ∏∞Ìôî</button>
               </div>
               
               <div class="result-section" id="goalResult"></div>
           </div>
       </div>
   </div>

   <script>
       let currentTab = 'savings';
       
       class PriceParser {
           constructor() {
               this.koreanUnits = {
                   'Ï≤ú': 1000,
                   'Îßå': 10000,
                   'Ïñµ': 100000000
               };
           }
           
           parseAmount(input) {
               if (!input) return null;
               
               let cleaned = input.replace(/\s+/g, '');
               
               for (let [unit, multiplier] of Object.entries(this.koreanUnits)) {
                   if (cleaned.includes(unit)) {
                       let parts = cleaned.split(unit);
                       if (parts[0]) {
                           let num = parseFloat(parts[0].replace(/[^0-9.]/g, ''));
                           if (!isNaN(num)) {
                               return num * multiplier;
                           }
                       }
                   }
               }
               
               cleaned = cleaned.replace(/[^0-9.]/g, '');
               let num = parseFloat(cleaned);
               
               return isNaN(num) ? null : num;
           }
       }
       
       const parser = new PriceParser();
       
       function switchTab(tabName) {
           document.querySelectorAll('.tab-button').forEach(btn => {
               btn.classList.remove('active');
           });
           event.target.classList.add('active');
           
           document.querySelectorAll('.tab-content').forEach(content => {
               content.classList.remove('active');
           });
           document.getElementById(tabName).classList.add('active');
           
           currentTab = tabName;
       }
       
       // Ï†ÅÍ∏à Í≥ÑÏÇ∞
       function smartParseSavings() {
           const payment = document.getElementById('monthly-payment').value;
           const rate = document.getElementById('savings-rate').value;
           const period = document.getElementById('savings-period').value;
           
           const parsedPayment = parser.parseAmount(payment);
           
           if (parsedPayment) {
               document.getElementById('monthlyPaymentParsed').textContent = `Ïù∏ÏãùÎê®: ${parsedPayment.toLocaleString()}Ïõê`;
           } else {
               document.getElementById('monthlyPaymentParsed').textContent = 'Ïõî ÎÇ©ÏûÖÏï°ÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî';
           }
           
           if (rate) {
               document.getElementById('savingsRateParsed').textContent = `Ïó∞Ïù¥Ïú®: ${rate}%`;
           } else {
               document.getElementById('savingsRateParsed').textContent = 'Ïù¥Ïú®ÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî';
           }
           
           if (period) {
               const years = Math.floor(period / 12);
               const months = period % 12;
               document.getElementById('savingsPeriodParsed').textContent = `Ï†ÅÍ∏à Í∏∞Í∞Ñ: ${years > 0 ? years + 'ÎÖÑ ' : ''}${months}Í∞úÏõî`;
           } else {
               document.getElementById('savingsPeriodParsed').textContent = 'Í∏∞Í∞ÑÏùÑ ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî';
           }
       }
       
       function setMonthlyPayment(amount) {
           document.getElementById('monthly-payment').value = amount.toLocaleString() + 'Ïõê';
           smartParseSavings();
       }
       
       function calculateSavings() {
           const monthlyPayment = parser.parseAmount(document.getElementById('monthly-payment').value);
           const annualRate = parseFloat(document.getElementById('savings-rate').value);
           const months = parseInt(document.getElementById('savings-period').value);
           
           if (!monthlyPayment || !annualRate || !months) {
               alert('Î™®Îì† Ìï≠Î™©ÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.');
               return;
           }
           
           const monthlyRate = annualRate / 100 / 12;
           
           // Ï†ÅÍ∏à Í≥ÑÏÇ∞: Îß§Ïõî ÎÇ©ÏûÖÌïòÎäî Ïó∞Í∏àÏùò ÎØ∏ÎûòÍ∞ÄÏπò
           // FV = PMT √ó [((1 + r)^n - 1) / r]
           const futureValue = monthlyPayment * (Math.pow(1 + monthlyRate, months) - 1) / monthlyRate;
           const totalPayment = monthlyPayment * months;
           const totalInterest = futureValue - totalPayment;
           const effectiveRate = ((futureValue / totalPayment) - 1) * 100;
           
           // ÏõîÎ≥Ñ Ï†ÅÍ∏à Ïä§ÏºÄÏ§Ñ ÏÉùÏÑ±
           let schedule = [];
           let accumulatedAmount = 0;
           
           for (let month = 1; month <= Math.min(months, 12); month++) {
               accumulatedAmount = monthlyPayment * month;
               const interestAmount = monthlyPayment * (Math.pow(1 + monthlyRate, month) - 1) / monthlyRate - accumulatedAmount;
               const totalAmount = accumulatedAmount + interestAmount;
               
               schedule.push({
                   month: month,
                   payment: monthlyPayment,
                   accumulated: accumulatedAmount,
                   interest: interestAmount,
                   total: totalAmount
               });
           }
           
           const resultHTML = `
               <div class="result-title">üè¶ Ï†ÅÍ∏à Í≥ÑÏÇ∞ Í≤∞Í≥º</div>
               <div class="savings-display">
                   <div class="savings-value">${Math.round(futureValue).toLocaleString()}Ïõê</div>
                   <div class="savings-description">ÎßåÍ∏∞ ÏàòÎ†πÏï°</div>
               </div>
               <div class="result-grid">
                   <div class="result-item">
                       <div class="result-label">Ïõî ÎÇ©ÏûÖÏï°</div>
                       <div class="result-value">${monthlyPayment.toLocaleString()}Ïõê</div>
                   </div>
                   <div class="result-item">
                       <div class="result-label">Ïó∞Ïù¥Ïú®</div>
                       <div class="result-value">${annualRate}%</div>
                   </div>
                   <div class="result-item">
                       <div class="result-label">Ï†ÅÍ∏à Í∏∞Í∞Ñ</div>
                       <div class="result-value">${months}Í∞úÏõî</div>
                   </div>
                   <div class="result-item">
                       <div class="result-label">Ï¥ù ÎÇ©ÏûÖÏï°</div>
                       <div class="result-value">${totalPayment.toLocaleString()}Ïõê</div>
                   </div>
                   <div class="result-item">
                       <div class="result-label">Ï¥ù Ïù¥Ïûê</div>
                       <div class="result-value">${Math.round(totalInterest).toLocaleString()}Ïõê</div>
                   </div>
                   <div class="result-item">
                       <div class="result-label">ÎßåÍ∏∞ ÏàòÎ†πÏï°</div>
                       <div class="result-value">${Math.round(futureValue).toLocaleString()}Ïõê</div>
                   </div>
                   <div class="result-item">
                       <div class="result-label">Ïã§Ìö® ÏàòÏùµÎ•†</div>
                       <div class="result-value">${effectiveRate.toFixed(2)}%</div>
                   </div>
                   <div class="result-item">
                       <div class="result-label">ÏõîÌèâÍ∑† Ïù¥Ïûê</div>
                       <div class="result-value">${Math.round(totalInterest / months).toLocaleString()}Ïõê</div>
                   </div>
               </div>
               <div class="savings-schedule">
                   <div class="schedule-title">üìÖ Ï†ÅÍ∏à Ïä§ÏºÄÏ§Ñ (Ï≤òÏùå 12Í∞úÏõî)</div>
                   <table class="schedule-table">
                       <thead>
                           <tr>
                               <th>ÌöåÏ∞®</th>
                               <th>ÎÇ©ÏûÖÏï°</th>
                               <th>ÎàÑÏ†Å ÎÇ©ÏûÖ</th>
                               <th>ÎàÑÏ†Å Ïù¥Ïûê</th>
                               <th>Ï¥ù ÏûîÏï°</th>
                           </tr>
                       </thead>
                       <tbody>
                           ${schedule.map(item => `
                               <tr>
                                   <td>${item.month}Ìöå</td>
                                   <td>${Math.round(item.payment).toLocaleString()}Ïõê</td>
                                   <td>${Math.round(item.accumulated).toLocaleString()}Ïõê</td>
                                   <td>${Math.round(item.interest).toLocaleString()}Ïõê</td>
                                   <td>${Math.round(item.total).toLocaleString()}Ïõê</td>
                               </tr>
                           `).join('')}
                       </tbody>
                   </table>
               </div>
           `;
           
           document.getElementById('savingsResult').innerHTML = resultHTML;
           document.getElementById('savingsResult').style.display = 'block';
           document.getElementById('savingsResult').scrollIntoView({ behavior: 'smooth' });
       }
       
       function showSavingsExample() {
           document.getElementById('monthly-payment').value = '50ÎßåÏõê';
           document.getElementById('savings-rate').value = '3.5';
           document.getElementById('savings-period').value = '36';
           smartParseSavings();
       }
       
       function clearSavings() {
           document.getElementById('monthly-payment').value = '';
           document.getElementById('savings-rate').value = '';
           document.getElementById('savings-period').value = '';
           smartParseSavings();
           document.getElementById('savingsResult').style.display = 'none';
       }
       
       // ÏòàÍ∏à Í≥ÑÏÇ∞
       function smartParseDeposit() {
           const principal = document.getElementById('deposit-principal').value;
           const rate = document.getElementById('deposit-rate').value;
           const period = document.getElementById('deposit-period').value;
           const payment = document.getElementById('interest-payment').value;
           
           const parsedPrincipal = parser.parseAmount(principal);
           
           if (parsedPrincipal) {
               document.getElementById('depositPrincipalParsed').textContent = `Ïù∏ÏãùÎê®: ${parsedPrincipal.toLocaleString()}Ïõê`;
           } else {
               document.getElementById('depositPrincipalParsed').textContent = 'ÏòàÍ∏à ÏõêÍ∏àÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî';
           }
           
           if (rate) {
               document.getElementById('depositRateParsed').textContent = `Ïó∞Ïù¥Ïú®: ${rate}%`;
           } else {
               document.getElementById('depositRateParsed').textContent = 'Ïù¥Ïú®ÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî';
           }
           
           if (period) {
               const years = Math.floor(period / 12);
               const months = period % 12;
               document.getElementById('depositPeriodParsed').textContent = `ÏòàÍ∏à Í∏∞Í∞Ñ: ${years > 0 ? years + 'ÎÖÑ ' : ''}${months}Í∞úÏõî`;
           } else {
               document.getElementById('depositPeriodParsed').textContent = 'Í∏∞Í∞ÑÏùÑ ÏÑ†ÌÉùÌï¥Ï£ºÏÑ∏Ïöî';
           }
           
           const paymentTypes = {
               'compound': 'Î≥µÎ¶¨ Î∞©ÏãùÏù¥ ÏÑ†ÌÉùÎêòÏóàÏäµÎãàÎã§',
               'simple': 'Îã®Î¶¨ Î∞©ÏãùÏù¥ ÏÑ†ÌÉùÎêòÏóàÏäµÎãàÎã§',
               'monthly': 'Ïõî ÏßÄÍ∏â Î∞©ÏãùÏù¥ ÏÑ†ÌÉùÎêòÏóàÏäµÎãàÎã§'
           };
           
           document.getElementById('interestPaymentParsed').textContent = paymentTypes[payment];
       }
       
       function calculateDeposit() {
           const principal = parser.parseAmount(document.getElementById('deposit-principal').value);
           const annualRate = parseFloat(document.getElementById('deposit-rate').value);
           const months = parseInt(document.getElementById('deposit-period').value);
           const paymentType = document.getElementById('interest-payment').value;
           
           if (!principal || !annualRate || !months) {
               alert('Î™®Îì† Ìï≠Î™©ÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.');
               return;
           }
           
           const years = months / 12;
           const rate = annualRate / 100;
           let maturityAmount, totalInterest;
           
           if (paymentType === 'compound') {
               // Î≥µÎ¶¨ Í≥ÑÏÇ∞
               maturityAmount = principal * Math.pow(1 + rate, years);
               totalInterest = maturityAmount - principal;
           } else if (paymentType === 'simple') {
               // Îã®Î¶¨ Í≥ÑÏÇ∞
               totalInterest = principal * rate * years;
               maturityAmount = principal + totalInterest;
           } else { // monthly
               // Ïõî ÏßÄÍ∏â (Îã®Î¶¨)
               totalInterest = principal * rate * years;
               maturityAmount = principal; // ÏõêÍ∏àÎßå Î∞òÌôò (Ïù¥ÏûêÎäî Îß§Ïõî ÏßÄÍ∏â)
           }
           
           const monthlyInterest = paymentType === 'monthly' ? (principal * rate / 12) : 0;
           const effectiveRate = ((maturityAmount / principal) - 1) * 100;
           
           let resultHTML = `
               <div class="result-title">üè¶ ÏòàÍ∏à Í≥ÑÏÇ∞ Í≤∞Í≥º</div>
               <div class="savings-display">
                   <div class="savings-value">${Math.round(maturityAmount).toLocaleString()}Ïõê</div>
                   <div class="savings-description">${paymentType === 'monthly' ? 'ÎßåÍ∏∞ ÏõêÍ∏à' : 'ÎßåÍ∏∞ ÏàòÎ†πÏï°'}</div>
               </div>
               <div class="result-grid">
                   <div class="result-item">
                       <div class="result-label">ÏòàÍ∏à ÏõêÍ∏à</div>
                       <div class="result-value">${principal.toLocaleString()}Ïõê</div>
                   </div>
                   <div class="result-item">
                       <div class="result-label">Ïó∞Ïù¥Ïú®</div>
                       <div class="result-value">${annualRate}%</div>
                   </div>
                   <div class="result-item">
                       <div class="result-label">ÏòàÍ∏à Í∏∞Í∞Ñ</div>
                       <div class="result-value">${months}Í∞úÏõî</div>
                   </div>
                   <div class="result-item">
                       <div class="result-label">Ïù¥Ïûê ÏßÄÍ∏â</div>
                       <div class="result-value" style="font-size: 1rem;">
                           ${paymentType === 'compound' ? 'Î≥µÎ¶¨' : paymentType === 'simple' ? 'ÎßåÍ∏∞ÏßÄÍ∏â' : 'ÏõîÏßÄÍ∏â'}
                       </div>
                   </div>
                   <div class="result-item">
                       <div class="result-label">${paymentType === 'monthly' ? 'Ï¥ù Ïù¥Ïûê ÏßÄÍ∏âÏï°' : 'Ï¥ù Ïù¥Ïûê'}</div>
                       <div class="result-value">${Math.round(totalInterest).toLocaleString()}Ïõê</div>
                   </div>
                   <div class="result-item">
                       <div class="result-label">${paymentType === 'monthly' ? 'ÎßåÍ∏∞ ÏõêÍ∏à' : 'ÎßåÍ∏∞ ÏàòÎ†πÏï°'}</div>
                       <div class="result-value">${Math.round(maturityAmount).toLocaleString()}Ïõê</div>
                   </div>
           `;
           
           if (paymentType === 'monthly') {
               resultHTML += `
                   <div class="result-item">
                       <div class="result-label">Ïõî Ïù¥Ïûê ÏßÄÍ∏âÏï°</div>
                       <div class="result-value">${Math.round(monthlyInterest).toLocaleString()}Ïõê</div>
                   </div>
                   <div class="result-item">
                       <div class="result-label">Ï¥ù ÏàòÎ†πÏï°</div>
                       <div class="result-value">${Math.round(principal + totalInterest).toLocaleString()}Ïõê</div>
                   </div>
               `;
           } else {
               resultHTML += `
                   <div class="result-item">
                       <div class="result-label">Ïã§Ìö® ÏàòÏùµÎ•†</div>
                       <div class="result-value">${effectiveRate.toFixed(2)}%</div>
                   </div>
                   <div class="result-item">
                       <div class="result-label">Ïó∞ÌèâÍ∑† Ïù¥Ïûê</div>
                       <div class="result-value">${Math.round(totalInterest / years).toLocaleString()}Ïõê</div>
                   </div>
               `;
           }
           
           resultHTML += `</div>`;
           
           document.getElementById('depositResult').innerHTML = resultHTML;
           document.getElementById('depositResult').style.display = 'block';
           document.getElementById('depositResult').scrollIntoView({ behavior: 'smooth' });
       }
       
       function showDepositExample() {
           document.getElementById('deposit-principal').value = '1000ÎßåÏõê';
           document.getElementById('deposit-rate').value = '4.2';
           document.getElementById('deposit-period').value = '24';
           document.getElementById('interest-payment').value = 'compound';
           smartParseDeposit();
       }
       
       function clearDeposit() {
           document.getElementById('deposit-principal').value = '';
           document.getElementById('deposit-rate').value = '';
           document.getElementById('deposit-period').value = '';
           document.getElementById('interest-payment').value = 'compound';
           smartParseDeposit();
           document.getElementById('depositResult').style.display = 'none';
       }
       
       // Î™©Ìëú Ï†ÄÏ∂ï Í≥ÑÏÇ∞
       function smartParseGoal() {
           const amount = document.getElementById('target-amount').value;
           const years = document.getElementById('goal-years').value;
           const rate = document.getElementById('goal-rate').value;
           
           const parsedAmount = parser.parseAmount(amount);
           
           if (parsedAmount) {
               document.getElementById('targetAmountParsed').textContent = `Ïù∏ÏãùÎê®: ${parsedAmount.toLocaleString()}Ïõê`;
           } else {
               document.getElementById('targetAmountParsed').textContent = 'Î™©Ìëú Í∏àÏï°ÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî';
           }
           
           if (years) {
               document.getElementById('goalYearsParsed').textContent = `Ï†ÄÏ∂ï Í∏∞Í∞Ñ: ${years}ÎÖÑ`;
           } else {
               document.getElementById('goalYearsParsed').textContent = 'Ï†ÄÏ∂ï Í∏∞Í∞ÑÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî';
           }
           
           if (rate) {
               document.getElementById('goalRateParsed').textContent = `ÏòàÏÉÅ Ïó∞Ïù¥Ïú®: ${rate}%`;
           } else {
               document.getElementById('goalRateParsed').textContent = 'ÏòàÏÉÅ Ïù¥Ïú®ÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî';
           }
       }
       
       function calculateGoal() {
           const targetAmount = parser.parseAmount(document.getElementById('target-amount').value);
           const years = parseFloat(document.getElementById('goal-years').value);
           const annualRate = parseFloat(document.getElementById('goal-rate').value);
           
           if (!targetAmount || !years || !annualRate) {
               alert('Î™®Îì† Ìï≠Î™©ÏùÑ ÏûÖÎ†•Ìï¥Ï£ºÏÑ∏Ïöî.');
               return;
           }
           
           const months = years * 12;
           const monthlyRate = annualRate / 100 / 12;
           
           // Î™©Ìëú Í∏àÏï° Îã¨ÏÑ±ÏùÑ ÏúÑÌïú Ïõî ÎÇ©ÏûÖÏï° Í≥ÑÏÇ∞
           // PMT = FV √ó r / ((1 + r)^n - 1)
           const requiredMonthlyPayment = targetAmount * monthlyRate / (Math.pow(1 + monthlyRate, months) - 1);
           const totalPayment = requiredMonthlyPayment * months;
           const totalInterest = targetAmount - totalPayment;
           
           // Îã§ÏñëÌïú ÏãúÎÇòÎ¶¨Ïò§ Ï†úÏãú
           const scenarios = [
               { rate: annualRate - 1, name: 'Î≥¥ÏàòÏ†Å' },
               { rate: annualRate, name: 'Í∏∞Î≥∏' },
               { rate: annualRate + 1, name: 'Ï†ÅÍ∑πÏ†Å' }
           ];
           
           const resultHTML = `
               <div class="result-title">üéØ Î™©Ìëú Ï†ÄÏ∂ï Í≥ÑÏÇ∞ Í≤∞Í≥º</div>
               <div class="savings-display">
                   <div class="savings-value">${Math.round(requiredMonthlyPayment).toLocaleString()}Ïõê</div>
                   <div class="savings-description">ÌïÑÏöî Ïõî ÎÇ©ÏûÖÏï°</div>
               </div>
               <div class="result-grid">
                   <div class="result-item">
                       <div class="result-label">Î™©Ìëú Í∏àÏï°</div>
                       <div class="result-value">${targetAmount.toLocaleString()}Ïõê</div>
                   </div>
                   <div class="result-item">
                       <div class="result-label">Ï†ÄÏ∂ï Í∏∞Í∞Ñ</div>
                       <div class="result-value">${years}ÎÖÑ</div>
                   </div>
                   <div class="result-item">
                       <div class="result-label">ÏòàÏÉÅ Ïó∞Ïù¥Ïú®</div>
                       <div class="result-value">${annualRate}%</div>
                   </div>
                   <div class="result-item">
                       <div class="result-label">Ïõî ÎÇ©ÏûÖÏï°</div>
                       <div class="result-value">${Math.round(requiredMonthlyPayment).toLocaleString()}Ïõê</div>
                   </div>
                   <div class="result-item">
                       <div class="result-label">Ï¥ù ÎÇ©ÏûÖÏï°</div>
                       <div class="result-value">${Math.round(totalPayment).toLocaleString()}Ïõê</div>
                   </div>
                   <div class="result-item">
                       <div class="result-label">ÏòàÏÉÅ Ïù¥Ïûê</div>
                       <div class="result-value">${Math.round(totalInterest).toLocaleString()}Ïõê</div>
                   </div>
                   <div class="result-item">
                       <div class="result-label">Ïó∞ ÎÇ©ÏûÖÏï°</div>
                       <div class="result-value">${Math.round(requiredMonthlyPayment * 12).toLocaleString()}Ïõê</div>
                   </div>
                   <div class="result-item">
                       <div class="result-label">Ïù¥Ïûê ÎπÑÏú®</div>
                       <div class="result-value">${((totalInterest / targetAmount) * 100).toFixed(2)}%</div>
                   </div>
               </div>
               <div class="savings-schedule">
                   <div class="schedule-title">üìä ÏãúÎÇòÎ¶¨Ïò§Î≥Ñ Ïõî ÎÇ©ÏûÖÏï°</div>
                   <table class="schedule-table">
                       <thead>
                           <tr>
                               <th>ÏãúÎÇòÎ¶¨Ïò§</th>
                               <th>Ïó∞Ïù¥Ïú®</th>
                               <th>Ïõî ÎÇ©ÏûÖÏï°</th>
                               <th>Ï¥ù ÎÇ©ÏûÖÏï°</th>
                           </tr>
                       </thead>
                       <tbody>
                           ${scenarios.map(scenario => {
                               const monthlyRateScenario = scenario.rate / 100 / 12;
                               const monthlyPaymentScenario = targetAmount * monthlyRateScenario / (Math.pow(1 + monthlyRateScenario, months) - 1);
                               const totalPaymentScenario = monthlyPaymentScenario * months;
                               
                               return `
                                   <tr>
                                       <td>${scenario.name}</td>
                                       <td>${scenario.rate}%</td>
                                       <td>${Math.round(monthlyPaymentScenario).toLocaleString()}Ïõê</td>
                                       <td>${Math.round(totalPaymentScenario).toLocaleString()}Ïõê</td>
                                   </tr>
                               `;
                           }).join('')}
                       </tbody>
                   </table>
               </div>
           `;
           
           document.getElementById('goalResult').innerHTML = resultHTML;
           document.getElementById('goalResult').style.display = 'block';
           document.getElementById('goalResult').scrollIntoView({ behavior: 'smooth' });
       }
       
       function showGoalExample() {
           document.getElementById('target-amount').value = '1ÏñµÏõê';
           document.getElementById('goal-years').value = '10';
           document.getElementById('goal-rate').value = '4.0';
           smartParseGoal();
       }
       
       function clearGoal() {
           document.getElementById('target-amount').value = '';
           document.getElementById('goal-years').value = '';
           document.getElementById('goal-rate').value = '';
           smartParseGoal();
           document.getElementById('goalResult').style.display = 'none';
       }
       
       window.addEventListener('load', function() {
           showSavingsExample();
           setTimeout(() => calculateSavings(), 1500);
       });
   </script>
</body>
</html>
